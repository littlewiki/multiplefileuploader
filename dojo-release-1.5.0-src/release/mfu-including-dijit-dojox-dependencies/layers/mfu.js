/*
	Copyright (c) 2004-2010, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

dojo.provide("layers.mfu");if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(_1,_2){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _3=dojo.date.stamp._isoRegExp.exec(_1),_4=null;if(_3){_3.shift();if(_3[1]){_3[1]--;}if(_3[6]){_3[6]*=1000;}if(_2){_2=new Date(_2);dojo.forEach(dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(_5){return _2["get"+_5]();}),function(_6,_7){_3[_7]=_3[_7]||_6;});}_4=new Date(_3[0]||1970,_3[1]||0,_3[2]||1,_3[3]||0,_3[4]||0,_3[5]||0,_3[6]||0);if(_3[0]<100){_4.setFullYear(_3[0]||1970);}var _8=0,_9=_3[7]&&_3[7].charAt(0);if(_9!="Z"){_8=((_3[8]||0)*60)+(Number(_3[9])||0);if(_9!="-"){_8*=-1;}}if(_9){_8-=_4.getTimezoneOffset();}if(_8){_4.setTime(_4.getTime()+_8*60000);}}return _4;};dojo.date.stamp.toISOString=function(_a,_b){var _c=function(n){return (n<10)?"0"+n:n;};_b=_b||{};var _d=[],_e=_b.zulu?"getUTC":"get",_f="";if(_b.selector!="time"){var _10=_a[_e+"FullYear"]();_f=["0000".substr((_10+"").length)+_10,_c(_a[_e+"Month"]()+1),_c(_a[_e+"Date"]())].join("-");}_d.push(_f);if(_b.selector!="date"){var _11=[_c(_a[_e+"Hours"]()),_c(_a[_e+"Minutes"]()),_c(_a[_e+"Seconds"]())].join(":");var _12=_a[_e+"Milliseconds"]();if(_b.milliseconds){_11+="."+(_12<100?"0":"")+_c(_12);}if(_b.zulu){_11+="Z";}else{if(_b.selector!="time"){var _13=_a.getTimezoneOffset();var _14=Math.abs(_13);_11+=(_13>0?"-":"+")+_c(Math.floor(_14/60))+":"+_c(_14%60);}}_d.push(_11);}return _d.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");new Date("X");dojo.parser=new function(){var d=dojo;this._attrName=d._scopeName+"Type";this._query="["+this._attrName+"]";function _15(_16){if(d.isString(_16)){return "string";}if(typeof _16=="number"){return "number";}if(typeof _16=="boolean"){return "boolean";}if(d.isFunction(_16)){return "function";}if(d.isArray(_16)){return "array";}if(_16 instanceof Date){return "date";}if(_16 instanceof d._Url){return "url";}return "object";};function _17(_18,_19){switch(_19){case "string":return _18;case "number":return _18.length?Number(_18):NaN;case "boolean":return typeof _18=="boolean"?_18:!(_18.toLowerCase()=="false");case "function":if(d.isFunction(_18)){_18=_18.toString();_18=d.trim(_18.substring(_18.indexOf("{")+1,_18.length-1));}try{if(_18===""||_18.search(/[^\w\.]+/i)!=-1){return new Function(_18);}else{return d.getObject(_18,false)||new Function(_18);}}catch(e){return new Function();}case "array":return _18?_18.split(/\s*,\s*/):[];case "date":switch(_18){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_18);}case "url":return d.baseUrl+_18;default:return d.fromJson(_18);}};var _1a={};dojo.connect(dojo,"extend",function(){_1a={};});function _1b(_1c){if(!_1a[_1c]){var cls=d.getObject(_1c);if(!cls){return null;}var _1d=cls.prototype;var _1e={},_1f={};for(var _20 in _1d){if(_20.charAt(0)=="_"){continue;}if(_20 in _1f){continue;}var _21=_1d[_20];_1e[_20]=_15(_21);}_1a[_1c]={cls:cls,params:_1e};}return _1a[_1c];};this._functionFromScript=function(_22){var _23="";var _24="";var _25=_22.getAttribute("args");if(_25){d.forEach(_25.split(/\s*,\s*/),function(_26,idx){_23+="var "+_26+" = arguments["+idx+"]; ";});}var _27=_22.getAttribute("with");if(_27&&_27.length){d.forEach(_27.split(/\s*,\s*/),function(_28){_23+="with("+_28+"){";_24+="}";});}return new Function(_23+_22.innerHTML+_24);};this.instantiate=function(_29,_2a,_2b){var _2c=[],dp=dojo.parser;_2a=_2a||{};_2b=_2b||{};d.forEach(_29,function(obj){if(!obj){return;}var _2d,_2e,_2f,_30,_31;if(obj.node){_2d=obj.node;_2e=obj.type;_2f=obj.clsInfo||(_2e&&_1b(_2e));_30=_2f&&_2f.cls;_31=obj.scripts;}else{_2d=obj;_2e=dp._attrName in _2a?_2a[dp._attrName]:_2d.getAttribute(dp._attrName);_2f=_2e&&_1b(_2e);_30=_2f&&_2f.cls;_31=(_30&&(_30._noScript||_30.prototype._noScript)?[]:d.query("> script[type^='dojo/']",_2d));}if(!_2f){throw new Error("Could not load class '"+_2e);}var _32={},_33=_2d.attributes;if(_2b.defaults){dojo.mixin(_32,_2b.defaults);}if(obj.inherited){dojo.mixin(_32,obj.inherited);}for(var _34 in _2f.params){var _35=_34 in _2a?{value:_2a[_34],specified:true}:_33.getNamedItem(_34);if(!_35||(!_35.specified&&(!dojo.isIE||_34.toLowerCase()!="value"))){continue;}var _36=_35.value;switch(_34){case "class":_36="className" in _2a?_2a.className:_2d.className;break;case "style":_36="style" in _2a?_2a.style:(_2d.style&&_2d.style.cssText);}var _37=_2f.params[_34];if(typeof _36=="string"){_32[_34]=_17(_36,_37);}else{_32[_34]=_36;}}var _38=[],_39=[];d.forEach(_31,function(_3a){_2d.removeChild(_3a);var _3b=_3a.getAttribute("event"),_2e=_3a.getAttribute("type"),nf=d.parser._functionFromScript(_3a);if(_3b){if(_2e=="dojo/connect"){_38.push({event:_3b,func:nf});}else{_32[_3b]=nf;}}else{_39.push(nf);}});var _3c=_30.markupFactory||_30.prototype&&_30.prototype.markupFactory;var _3d=_3c?_3c(_32,_2d,_30):new _30(_32,_2d);_2c.push(_3d);var _3e=_2d.getAttribute("jsId");if(_3e){d.setObject(_3e,_3d);}d.forEach(_38,function(_3f){d.connect(_3d,_3f.event,null,_3f.func);});d.forEach(_39,function(_40){_40.call(_3d);});});if(!_2a._started){d.forEach(_2c,function(_41){if(!_2b.noStart&&_41&&_41.startup&&!_41._started&&(!_41.getParent||!_41.getParent())){_41.startup();}});}return _2c;};this.parse=function(_42,_43){var _44;if(!_43&&_42&&_42.rootNode){_43=_42;_44=_43.rootNode;}else{_44=_42;}var _45=this._attrName;function _46(_47,_48){var _49=dojo.clone(_47.inherited);dojo.forEach(["dir","lang"],function(_4a){var val=_47.node.getAttribute(_4a);if(val){_49[_4a]=val;}});var _4b=_47.scripts;var _4c=!_47.clsInfo||!_47.clsInfo.cls.prototype.stopParser;for(var _4d=_47.node.firstChild;_4d;_4d=_4d.nextSibling){if(_4d.nodeType==1){var _4e=_4c&&_4d.getAttribute(_45);if(_4e){var _4f={"type":_4e,clsInfo:_1b(_4e),node:_4d,scripts:[],inherited:_49};_48.push(_4f);_46(_4f,_48);}else{if(_4b&&_4d.nodeName.toLowerCase()=="script"){_4e=_4d.getAttribute("type");if(_4e&&/^dojo\//i.test(_4e)){_4b.push(_4d);}}else{if(_4c){_46({node:_4d,inherited:_49},_48);}}}}}};var _50=[];_46({node:_44?dojo.byId(_44):dojo.body(),inherited:(_43&&_43.inherited)||{dir:dojo._isBodyLtr()?"ltr":"rtl"}},_50);return this.instantiate(_50,null,_43);};}();(function(){var _51=function(){if(dojo.config.parseOnLoad){dojo.parser.parse();}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,_51);}else{dojo._loaders.unshift(_51);}})();}if(!dojo._hasResource["dojo.io.iframe"]){dojo._hasResource["dojo.io.iframe"]=true;dojo.provide("dojo.io.iframe");dojo.io.iframe={create:function(_52,_53,uri){if(window[_52]){return window[_52];}if(window.frames[_52]){return window.frames[_52];}var _54=null;var _55=uri;if(!_55){if(dojo.config["useXDomain"]&&!dojo.config["dojoBlankHtmlUrl"]){console.warn("dojo.io.iframe.create: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set djConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");}_55=(dojo.config["dojoBlankHtmlUrl"]||dojo.moduleUrl("dojo","resources/blank.html"));}var _56=dojo.isIE?"<iframe name=\""+_52+"\" src=\""+_55+"\" onload=\""+_53+"\">":"iframe";_54=dojo.doc.createElement(_56);with(_54){name=_52;setAttribute("name",_52);id=_52;}dojo.body().appendChild(_54);window[_52]=_54;with(_54.style){if(!(dojo.isSafari<3)){position="absolute";}left=top="1px";height=width="1px";visibility="hidden";}if(!dojo.isIE){this.setSrc(_54,_55,true);_54.onload=new Function(_53);}return _54;},setSrc:function(_57,src,_58){try{if(!_58){if(dojo.isWebKit){_57.location=src;}else{frames[_57.name].location=src;}}else{var _59;if(dojo.isIE||dojo.isWebKit>521){_59=_57.contentWindow.document;}else{if(dojo.isSafari){_59=_57.document;}else{_59=_57.contentWindow;}}if(!_59){_57.location=src;return;}else{_59.location.replace(src);}}}catch(e){console.log("dojo.io.iframe.setSrc: ",e);}},doc:function(_5a){var doc=_5a.contentDocument||(((_5a.name)&&(_5a.document)&&(dojo.doc.getElementsByTagName("iframe")[_5a.name].contentWindow)&&(dojo.doc.getElementsByTagName("iframe")[_5a.name].contentWindow.document)))||((_5a.name)&&(dojo.doc.frames[_5a.name])&&(dojo.doc.frames[_5a.name].document))||null;return doc;},send:function(_5b){if(!this["_frame"]){this._frame=this.create(this._iframeName,dojo._scopeName+".io.iframe._iframeOnload();");}var dfd=dojo._ioSetArgs(_5b,function(dfd){dfd.canceled=true;dfd.ioArgs._callNext();},function(dfd){var _5c=null;try{var _5d=dfd.ioArgs;var dii=dojo.io.iframe;var ifd=dii.doc(dii._frame);var _5e=_5d.handleAs;_5c=ifd;if(_5e!="html"){if(_5e=="xml"){if(dojo.isIE){dojo.query("a",dii._frame.contentWindow.document.documentElement).orphan();var _5f=(dii._frame.contentWindow.document).documentElement.innerText;_5f=_5f.replace(/>\s+</g,"><");_5f=dojo.trim(_5f);var _60={responseText:_5f};_5c=dojo._contentHandlers["xml"](_60);}}else{_5c=ifd.getElementsByTagName("textarea")[0].value;if(_5e=="json"){_5c=dojo.fromJson(_5c);}else{if(_5e=="javascript"){_5c=dojo.eval(_5c);}}}}}catch(e){_5c=e;}finally{_5d._callNext();}return _5c;},function(_61,dfd){dfd.ioArgs._hasError=true;dfd.ioArgs._callNext();return _61;});dfd.ioArgs._callNext=function(){if(!this["_calledNext"]){this._calledNext=true;dojo.io.iframe._currentDfd=null;dojo.io.iframe._fireNextRequest();}};this._dfdQueue.push(dfd);this._fireNextRequest();dojo._ioWatch(dfd,function(dfd){return !dfd.ioArgs["_hasError"];},function(dfd){return (!!dfd.ioArgs["_finished"]);},function(dfd){if(dfd.ioArgs._finished){dfd.callback(dfd);}else{dfd.errback(new Error("Invalid dojo.io.iframe request state"));}});return dfd;},_currentDfd:null,_dfdQueue:[],_iframeName:dojo._scopeName+"IoIframe",_fireNextRequest:function(){try{if((this._currentDfd)||(this._dfdQueue.length==0)){return;}do{var dfd=this._currentDfd=this._dfdQueue.shift();}while(dfd&&dfd.canceled&&this._dfdQueue.length);if(!dfd||dfd.canceled){this._currentDfd=null;return;}var _62=dfd.ioArgs;var _63=_62.args;_62._contentToClean=[];var fn=dojo.byId(_63["form"]);var _64=_63["content"]||{};if(fn){if(_64){var _65=function(_66,_67){var tn;if(dojo.isIE){tn=dojo.doc.createElement("<input type='hidden' name='"+_66+"'>");}else{tn=dojo.doc.createElement("input");tn.type="hidden";tn.name=_66;}tn.value=_67;fn.appendChild(tn);_62._contentToClean.push(_66);};for(var x in _64){var val=_64[x];if(dojo.isArray(val)&&val.length>1){var i;for(i=0;i<val.length;i++){_65(x,val[i]);}}else{if(!fn[x]){_65(x,val);}else{fn[x].value=val;}}}}var _68=fn.getAttributeNode("action");var _69=fn.getAttributeNode("method");var _6a=fn.getAttributeNode("target");if(_63["url"]){_62._originalAction=_68?_68.value:null;if(_68){_68.value=_63.url;}else{fn.setAttribute("action",_63.url);}}if(!_69||!_69.value){if(_69){_69.value=(_63["method"])?_63["method"]:"post";}else{fn.setAttribute("method",(_63["method"])?_63["method"]:"post");}}_62._originalTarget=_6a?_6a.value:null;if(_6a){_6a.value=this._iframeName;}else{fn.setAttribute("target",this._iframeName);}fn.target=this._iframeName;dojo._ioNotifyStart(dfd);fn.submit();}else{var _6b=_63.url+(_63.url.indexOf("?")>-1?"&":"?")+_62.query;dojo._ioNotifyStart(dfd);this.setSrc(this._frame,_6b,true);}}catch(e){dfd.errback(e);}},_iframeOnload:function(){var dfd=this._currentDfd;if(!dfd){this._fireNextRequest();return;}var _6c=dfd.ioArgs;var _6d=_6c.args;var _6e=dojo.byId(_6d.form);if(_6e){var _6f=_6c._contentToClean;for(var i=0;i<_6f.length;i++){var key=_6f[i];for(var j=0;j<_6e.childNodes.length;j++){var _70=_6e.childNodes[j];if(_70.name==key){dojo.destroy(_70);break;}}}if(_6c["_originalAction"]){_6e.setAttribute("action",_6c._originalAction);}if(_6c["_originalTarget"]){_6e.setAttribute("target",_6c._originalTarget);_6e.target=_6c._originalTarget;}}_6c._finished=true;}};}if(!dojo._hasResource["multiplefileuploader.widget.IframeUploadStrategy"]){dojo._hasResource["multiplefileuploader.widget.IframeUploadStrategy"]=true;dojo.provide("multiplefileuploader.widget.IframeUploadStrategy");dojo.declare("multiplefileuploader.widget.IframeUploadStrategy",null,{constructor:function(_71,_72,_73){this._config_server=_71;this._config_status=_72;this._config_UI=_73;this._temporaryUploadForm=null;this._createTemporaryForm();this._createAdditionalFields();},upload:function(_74,_75){this._prepareForm(_75);dojo.io.iframe.send({url:this._config_server.ajaxUploadUrl,method:"POST",timeout:this._config_server.uploadTimeout,handleAs:"text",form:this._temporaryUploadForm,load:dojo.hitch(this,function(_76){dojox.data.dom.removeChildren(this._temporaryUploadForm);_74.onSuccess(_76,this._config_server.uploadValuePrefix);}),error:dojo.hitch(this,function(_77){dojox.data.dom.removeChildren(this._temporaryUploadForm);_74.onError(_77);})});},_prepareForm:function(_78){if(this._config_server.apc_php_enabled){this._createAPCInput(_78);}this._createFileInput(_78);this._createStatusIDInput(_78);this._createAdditionalFields();},_createFileInput:function(_79){var _7a=_79.getFileInput();dojo.attr(_7a,"name",this._config_server.uploadParameterName);dojo.place(_7a,this._temporaryUploadForm);},_createStatusIDInput:function(_7b){var _7c=document.createElement("input");dojo.attr(_7c,"type","hidden");dojo.attr(_7c,"name","statusID");dojo.attr(_7c,"value",_7b.getAssociatedID());dojo.place(_7c,this._temporaryUploadForm);},_createAPCInput:function(_7d){var _7e=document.createElement("input");dojo.attr(_7e,"type","hidden");dojo.attr(_7e,"name","APC_UPLOAD_PROGRESS");dojo.attr(_7e,"value",_7d.getAssociatedID());dojo.place(_7e,this._temporaryUploadForm);},_createAdditionalFields:function(){if(this._config_UI.enableThumbs){var _7f=document.createElement("input");dojo.attr(_7f,"type","hidden");dojo.attr(_7f,"name","thumbHeight");dojo.attr(_7f,"value",this._config_UI.thumbsHeight);dojo.place(_7f,this._temporaryUploadForm);var _7f=document.createElement("input");dojo.attr(_7f,"type","hidden");dojo.attr(_7f,"name","thumbWidth");dojo.attr(_7f,"value",this._config_UI.thumbsWidth);dojo.place(_7f,this._temporaryUploadForm);}},_createTemporaryForm:function(){if(dojo.isIE){this._temporaryUploadForm=document.createElement("<form style=\"display:none\" enctype=\"multipart/form-data\" method=\"post\">");this._temporaryUploadForm.encoding="multipart/form-data";}else{this._temporaryUploadForm=document.createElement("form");dojo.style(this._temporaryUploadForm,{display:"none"});this._temporaryUploadForm.setAttribute("enctype","multipart/form-data");}dojo.body().appendChild(this._temporaryUploadForm);}});}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_80){this.pairs=[];this.returnWrappers=_80||false;};dojo.extend(dojo.AdapterRegistry,{register:function(_81,_82,_83,_84,_85){this.pairs[((_85)?"unshift":"push")]([_81,_82,_83,_84]);},match:function(){for(var i=0;i<this.pairs.length;i++){var _86=this.pairs[i];if(_86[1].apply(this,arguments)){if((_86[3])||(this.returnWrappers)){return _86[2];}else{return _86[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(_87){for(var i=0;i<this.pairs.length;i++){var _88=this.pairs[i];if(_88[0]==_87){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dojox.io.xhrPlugins"]){dojo._hasResource["dojox.io.xhrPlugins"]=true;dojo.provide("dojox.io.xhrPlugins");(function(){var _89;var _8a;function _8b(){return _8a=dojox.io.xhrPlugins.plainXhr=_8a||dojo._defaultXhr||dojo.xhr;};dojox.io.xhrPlugins.register=function(){var _8c=_8b();if(!_89){_89=new dojo.AdapterRegistry();dojo[dojo._defaultXhr?"_defaultXhr":"xhr"]=function(_8d,_8e,_8f){return _89.match.apply(_89,arguments);};_89.register("xhr",function(_90,_91){if(!_91.url.match(/^\w*:\/\//)){return true;}var _92=window.location.href.match(/^.*?\/\/.*?\//)[0];return _91.url.substring(0,_92.length)==_92;},_8c);}return _89.register.apply(_89,arguments);};dojox.io.xhrPlugins.addProxy=function(_93){var _94=_8b();dojox.io.xhrPlugins.register("proxy",function(_95,_96){return true;},function(_97,_98,_99){_98.url=_93+encodeURIComponent(_98.url);return _94.call(dojo,_97,_98,_99);});};var _9a;dojox.io.xhrPlugins.addCrossSiteXhr=function(url,_9b){var _9c=_8b();if(_9a===undefined&&window.XMLHttpRequest){try{var xhr=new XMLHttpRequest();xhr.open("GET","http://testing-cross-domain-capability.com",true);_9a=true;dojo.config.noRequestedWithHeaders=true;}catch(e){_9a=false;}}dojox.io.xhrPlugins.register("cs-xhr",function(_9d,_9e){return (_9a||(window.XDomainRequest&&_9e.sync!==true&&(_9d=="GET"||_9d=="POST"||_9b)))&&(_9e.url.substring(0,url.length)==url);},_9a?_9c:function(){var _9f=dojo._xhrObj;dojo._xhrObj=function(){var xdr=new XDomainRequest();xdr.readyState=1;xdr.setRequestHeader=function(){};xdr.getResponseHeader=function(_a0){return _a0=="Content-Type"?xdr.contentType:null;};function _a1(_a2,_a3){return function(){xdr.readyState=_a3;xdr.status=_a2;};};xdr.onload=_a1(200,4);xdr.onprogress=_a1(200,3);xdr.onerror=_a1(404,4);return xdr;};var dfd=(_9b?_9b(_8b()):_8b()).apply(dojo,arguments);dojo._xhrObj=_9f;return dfd;});};dojox.io.xhrPlugins.fullHttpAdapter=function(_a4,_a5){return function(_a6,_a7,_a8){var _a9={};var _aa={};if(_a6!="GET"){_aa["http-method"]=_a6;if(_a7.putData&&_a5){_a9["http-content"]=_a7.putData;delete _a7.putData;_a8=false;}if(_a7.postData&&_a5){_a9["http-content"]=_a7.postData;delete _a7.postData;_a8=false;}_a6="POST";}for(var i in _a7.headers){var _ab=i.match(/^X-/)?i.substring(2).replace(/-/g,"_").toLowerCase():("http-"+i);_aa[_ab]=_a7.headers[i];}_a7.query=dojo.objectToQuery(_aa);dojo._ioAddQueryToUrl(_a7);_a7.content=dojo.mixin(_a7.content||{},_a9);return _a4.call(dojo,_a6,_a7,_a8);};};})();}if(!dojo._hasResource["multiplefileuploader.widget.UploadStatusStrategy"]){dojo._hasResource["multiplefileuploader.widget.UploadStatusStrategy"]=true;dojo.provide("multiplefileuploader.widget.UploadStatusStrategy");dojo.declare("multiplefileuploader.widget.UploadStatusStrategy",null,{constructor:function(_ac){this._config_status=_ac;this._temporaryUploadForm=null;this._createTemporaryForm();},getStatus:function(_ad,_ae){dojox.io.xhrPlugins.addCrossSiteXhr(this._config_status.uploadStatusURL);dojo.xhrGet({url:this._config_status.uploadStatusURL,content:{statusID:_ae.getAssociatedID()},timeout:this._config_status.statusTimeout,handleAs:"text",handle:dojo.hitch(this,function(_af){dojox.data.dom.removeChildren(this._temporaryUploadForm);_ad.onStatusSuccess(_af);}),error:dojo.hitch(this,function(_b0){dojox.data.dom.removeChildren(this._temporaryUploadForm);_ad.onStatusError(_b0);})});},getID:function(_b1){dojo.io.iframe.send({url:this._config_status.uploadStatusURL,form:this._temporaryUploadForm,handleAs:"text",load:dojo.hitch(this,function(_b2){dojox.data.dom.removeChildren(this._temporaryUploadForm);_b1.onIDSuccess(_b2);}),error:dojo.hitch(this,function(_b3){dojox.data.dom.removeChildren(this._temporaryUploadForm);_b1.onIDError(_b3);})});},_createTemporaryForm:function(){if(dojo.isIE){this._temporaryUploadForm=document.createElement("<form style=\"display:none\" method=\"post\">");}else{this._temporaryUploadForm=document.createElement("form");dojo.style(this._temporaryUploadForm,{display:"none"});}dojo.body().appendChild(this._temporaryUploadForm);}});}if(!dojo._hasResource["multiplefileuploader.widget.ErrorCategorizer"]){dojo._hasResource["multiplefileuploader.widget.ErrorCategorizer"]=true;dojo.provide("multiplefileuploader.widget.ErrorCategorizer");multiplefileuploader.widget.errorType={"ERROR_TYPE_RECOVERABLE":"ERROR_TYPE_RECOVERABLE","ERROR_TYPE_NON_RECOVERABLE":"ERROR_TYPE_NON_RECOVERABLE"};multiplefileuploader.widget.errorCode={"NETWORK_ERROR":multiplefileuploader.widget.errorType.ERROR_TYPE_RECOVERABLE,"SERVER_ERROR":multiplefileuploader.widget.errorType.ERROR_TYPE_NON_RECOVERABLE,"MALFORMED_JSON_EXCEPTION":multiplefileuploader.widget.errorType.ERROR_TYPE_NON_RECOVERABLE,"NULL_JSON_EXCEPTION":multiplefileuploader.widget.errorType.ERROR_TYPE_NON_RECOVERABLE,"SIZE_EXCEEDED":multiplefileuploader.widget.errorType.ERROR_TYPE_NON_RECOVERABLE,"SIZE_UPLOAD_ERR_NO_FILE":multiplefileuploader.widget.errorType.ERROR_TYPE_NON_RECOVERABLE,"UNSUPPORTED_FORMAT":multiplefileuploader.widget.errorType.ERROR_TYPE_NON_RECOVERABLE};dojo.declare("multiplefileuploader.widget.ErrorCategorizer",null,{constructor:function(){},getErrorType:function(_b4){if(multiplefileuploader.widget.errorCode[_b4]==null){throw _b4+" Is not defined";}else{return multiplefileuploader.widget.errorCode[_b4];}}});}if(!dojo._hasResource["dojox.collections._base"]){dojo._hasResource["dojox.collections._base"]=true;dojo.provide("dojox.collections._base");dojox.collections.DictionaryEntry=function(k,v){this.key=k;this.value=v;this.valueOf=function(){return this.value;};this.toString=function(){return String(this.value);};};dojox.collections.Iterator=function(arr){var a=arr;var _b5=0;this.element=a[_b5]||null;this.atEnd=function(){return (_b5>=a.length);};this.get=function(){if(this.atEnd()){return null;}this.element=a[_b5++];return this.element;};this.map=function(fn,_b6){return dojo.map(a,fn,_b6);};this.reset=function(){_b5=0;this.element=a[_b5];};};dojox.collections.DictionaryIterator=function(obj){var a=[];var _b7={};for(var p in obj){if(!_b7[p]){a.push(obj[p]);}}var _b8=0;this.element=a[_b8]||null;this.atEnd=function(){return (_b8>=a.length);};this.get=function(){if(this.atEnd()){return null;}this.element=a[_b8++];return this.element;};this.map=function(fn,_b9){return dojo.map(a,fn,_b9);};this.reset=function(){_b8=0;this.element=a[_b8];};};}if(!dojo._hasResource["dojox.collections.Queue"]){dojo._hasResource["dojox.collections.Queue"]=true;dojo.provide("dojox.collections.Queue");dojox.collections.Queue=function(arr){var q=[];if(arr){q=q.concat(arr);}this.count=q.length;this.clear=function(){q=[];this.count=q.length;};this.clone=function(){return new dojox.collections.Queue(q);};this.contains=function(o){for(var i=0;i<q.length;i++){if(q[i]==o){return true;}}return false;};this.copyTo=function(arr,i){arr.splice(i,0,q);};this.dequeue=function(){var r=q.shift();this.count=q.length;return r;};this.enqueue=function(o){this.count=q.push(o);};this.forEach=function(fn,_ba){dojo.forEach(q,fn,_ba);};this.getIterator=function(){return new dojox.collections.Iterator(q);};this.peek=function(){return q[0];};this.toArray=function(){return [].concat(q);};};}if(!dojo._hasResource["dojox.collections.ArrayList"]){dojo._hasResource["dojox.collections.ArrayList"]=true;dojo.provide("dojox.collections.ArrayList");dojox.collections.ArrayList=function(arr){var _bb=[];if(arr){_bb=_bb.concat(arr);}this.count=_bb.length;this.add=function(obj){_bb.push(obj);this.count=_bb.length;};this.addRange=function(a){if(a.getIterator){var e=a.getIterator();while(!e.atEnd()){this.add(e.get());}this.count=_bb.length;}else{for(var i=0;i<a.length;i++){_bb.push(a[i]);}this.count=_bb.length;}};this.clear=function(){_bb.splice(0,_bb.length);this.count=0;};this.clone=function(){return new dojox.collections.ArrayList(_bb);};this.contains=function(obj){for(var i=0;i<_bb.length;i++){if(_bb[i]==obj){return true;}}return false;};this.forEach=function(fn,_bc){dojo.forEach(_bb,fn,_bc);};this.getIterator=function(){return new dojox.collections.Iterator(_bb);};this.indexOf=function(obj){for(var i=0;i<_bb.length;i++){if(_bb[i]==obj){return i;}}return -1;};this.insert=function(i,obj){_bb.splice(i,0,obj);this.count=_bb.length;};this.item=function(i){return _bb[i];};this.remove=function(obj){var i=this.indexOf(obj);if(i>=0){_bb.splice(i,1);}this.count=_bb.length;};this.removeAt=function(i){_bb.splice(i,1);this.count=_bb.length;};this.reverse=function(){_bb.reverse();};this.sort=function(fn){if(fn){_bb.sort(fn);}else{_bb.sort();}};this.setByIndex=function(i,obj){_bb[i]=obj;this.count=_bb.length;};this.toArray=function(){return [].concat(_bb);};this.toString=function(_bd){return _bb.join((_bd||","));};};}if(!dojo._hasResource["multiplefileuploader.widget.UploadManager"]){dojo._hasResource["multiplefileuploader.widget.UploadManager"]=true;dojo.provide("multiplefileuploader.widget.UploadManager");dojo.declare("multiplefileuploader.widget.UploadManager",null,{constructor:function(_be,_bf,_c0,_c1){this._offline=false;this._statusLifeCycle=null;this._getStatusInterval=_c0.getStatusInterval;this._progressbarMode=_c0.progressBarMode;this._uploadStatusStrategy=new multiplefileuploader.widget.UploadStatusStrategy(_c0);this._uploadQueue=new multiplefileuploader.widget._UploadQueue(this);this._statusLifeCycleFactory=new multiplefileuploader.widget._StatusLifeCycleFactory();this._lifeCycleFactory=new multiplefileuploader.widget._LifeCycleFactory();this._uploadStrategy=new multiplefileuploader.widget.IframeUploadStrategy(_bf,_c0,_c1);this._errorCategorizer=new multiplefileuploader.widget.ErrorCategorizer();dojo.mixin(this,_be);},addToUploadQueue:function(_c2){this._uploadQueue.onImageUploadRequest(_c2);_c2.onUploadRequestEnqueued();if(!this._uploadQueue.isUploading()){this._processNextUpload();}},retryAllUploads:function(){this._offline=false;var _c3=this._uploadQueue.getNextUploadRequest();_c3.onRetry();this._processNextUpload();},_processNextUpload:function(){var _c4=this._uploadQueue.getNextUploadRequest();if(_c4!==null&&this._offline==false){if(_c4.getAssociatedID()==null){this._getNewID(_c4);}else{this._upload(_c4);}}if(_c4==null){this.onFinishedUploads();}},_cacheThumbnail:function(_c5){if(_c5.getThumbURL()!=null){dojo.create("img",{"src":_c5.getThumbURL(),style:{display:"none"}},dojo.body());}},_getNewID:function(_c6){this._statusLifeCycle=this._statusLifeCycleFactory.createStatusLifeCycle(_c6);var _c7={onIDSuccess:dojo.hitch(this,function(_c8){this._statusLifeCycle._onGetIDComplete(_c8);this._upload(_c6);}),onIDError:dojo.hitch(this,function(_c9){this._statusLifeCycle._onGetIDError(_c9);})};this._uploadStatusStrategy.getID(_c7);},_setupUploadMonitoring:function(_ca){var _cb=setInterval(dojo.hitch(this,function(){if(this._progressbarMode){var _cc={onStatusSuccess:dojo.hitch(this,function(_cd){this._statusLifeCycle._onStatusSuccess(_cd);}),onStatusError:dojo.hitch(this,function(_ce){this._statusLifeCycle._onStatusError(_ce);})};this._uploadStatusStrategy.getStatus(_cc,_ca);}}),this._getStatusInterval);this._statusLifeCycle.saveMonitoringUploadHandler(_cb);},_upload:function(_cf){var _d0=this._lifeCycleFactory.createLifeCycle(this,this._statusLifeCycle,_cf);this._uploadQueue.onBeforeUploadStart(_cf);_cf.onBeforeUploadStart();this.fireProgress();var _d1={onSuccess:function(_d2,_d3){_d0._onUploadComplete(_d2,_d3);},onError:function(_d4){_d0._onRecoverableError(_d4,"NETWORK_ERROR");}};this._uploadStrategy.upload(_d1,_cf);_d0._onAfterUploadStart();this.onAfterUploadStart(_cf);this._setupUploadMonitoring(_cf);},_stopProcessingUploads:function(_d5,_d6){if(this._errorCategorizer.getErrorType(_d6)==multiplefileuploader.widget.errorType.ERROR_TYPE_RECOVERABLE){this._offline=true;}this._uploadQueue.onUploadFailure(_d5,_d6);},_continueProcessingUploads:function(){this._uploadQueue.onUploadSuccess();},fireProgress:function(){var _d7={numberUploadsInProgress:this._uploadQueue.getNumberUploadsInProgress(),pendingElements:this._uploadQueue.getPendingElements(),totalNumberOfUploadRequests:this._uploadQueue.getTotalNumberOfUploadRequests(),numberUploadFinished:this._uploadQueue.getNumberOfFinishedUploads(),filename:this._uploadQueue.getCurrentlyUploadingFilename()};this.onProgress(_d7);},onFinishedUploads:function(){}});dojo.declare("multiplefileuploader.widget._LifeCycle",null,{constructor:function(_d8,_d9,_da,_db){this._uploadManager=_d9;this._uploadRequest=_db;this._statusLifeCycle=_da;this._errorCategorizer=new multiplefileuploader.widget.ErrorCategorizer();dojo.mixin(this,_d8);},_onUploadComplete:function(_dc,_dd){clearInterval(this._statusLifeCycle.getMonitoringUploadHandler());var _de=null;try{if(_dc==null){this._onNonRecoverableError(_dc,"NULL_JSON_EXCEPTION");return;}var _de=dojo.fromJson(_dc);}catch(e){this._onNonRecoverableError(_dc,"MALFORMED_JSON_EXCEPTION");return;}var _df=new multiplefileuploader.widget._UploadedFileInformation(_de);if(_df.getStatus()=="KO"){this._dispatchError(_dc,_df);}else{this._uploadRequest.onUploadSuccess(_df,_dd);this._uploadManager.onFinishedUpload(_df);this._uploadManager._cacheThumbnail(_df);this._uploadManager._continueProcessingUploads();}},_onRecoverableError:function(_e0,_e1){clearInterval(this._statusLifeCycle.getMonitoringUploadHandler());this._uploadRequest.onUploadFailure(_e0,_e1);this._uploadManager._stopProcessingUploads(this._uploadRequest,_e1);},_onNonRecoverableError:function(_e2,_e3){this._uploadRequest.onUploadFailure(_e2,_e3);this._uploadManager._continueProcessingUploads();},_onAfterUploadStart:function(){this._uploadRequest.onAfterUploadStart();},_dispatchError:function(_e4,_e5){switch(this._errorCategorizer.getErrorType(_e5.getErrorCode())){case multiplefileuploader.widget.errorType.ERROR_TYPE_RECOVERABLE:this._onRecoverableError(_e4,_e5.getErrorCode());break;case multiplefileuploader.widget.errorType.ERROR_TYPE_NON_RECOVERABLE:this._onNonRecoverableError(_e4,_e5.getErrorCode());break;default:throw "UNKNOWN EXCEPTION";break;}}});dojo.declare("multiplefileuploader.widget._LifeCycleFactory",null,{constructor:function(){},createLifeCycle:function(_e6,_e7,_e8){return new multiplefileuploader.widget._LifeCycle({},_e6,_e7,_e8);}});dojo.declare("multiplefileuploader.widget._StatusLifeCycleFactory",null,{constructor:function(){},createStatusLifeCycle:function(_e9){return new multiplefileuploader.widget._StatusLifeCycle({},_e9);}});dojo.declare("multiplefileuploader.widget._StatusLifeCycle",null,{constructor:function(_ea,_eb){this._uploadRequest=_eb;this._currentIDInformation=null;this._monitoringUploadHandler=null;dojo.mixin(this,_ea);},getMonitoringUploadHandler:function(){return this._monitoringUploadHandler;},saveMonitoringUploadHandler:function(_ec){this._monitoringUploadHandler=_ec;},_onGetIDComplete:function(_ed){this._currentIDInformation=new multiplefileuploader.widget._IDInformation(dojo.fromJson(_ed));this._uploadRequest.setAssociatedID(this._currentIDInformation.getID());},_onGetIDError:function(_ee){this._currentIDInformation=new multiplefileuploader.widget._IDInformation(dojo.fromJson(_ee));},_onStatusSuccess:function(_ef){var _f0=new multiplefileuploader.widget._StatusInformation(dojo.fromJson(_ef));this._uploadRequest.onStatusSuccess(_f0);},_onStatusError:function(_f1){clearInterval(this._monitoringUploadHandler);var _f2=new multiplefileuploader.widget._StatusInformation(dojo.fromJson(_f1));this._uploadRequest.onStatusError(_f2);},getCurrentIDInformation:function(){return this._currentIDInformation;}});dojo.declare("multiplefileuploader.widget._IDInformation",null,{constructor:function(_f3){this._data=_f3;},getID:function(){return this._data.id;}});dojo.declare("multiplefileuploader.widget._StatusInformation",null,{constructor:function(_f4){this._data=_f4;},getID:function(){return this._data.id;},getUploadedSize:function(){return this._data.complete;},getTotalSize:function(){return this._data.total;}});dojo.declare("multiplefileuploader.widget.FileUploadRequestMixin",null,{constructor:function(){},onBeforeUploadStart:function(){this._doOnBeforeUploadStart();},onAfterUploadStart:function(){this._doOnAfterUploadStart();},onUploadSuccess:function(_f5,_f6){this._doOnUploadSuccess(_f5,_f6);},onUploadFailure:function(_f7,_f8){this._doOnUploadFailure(_f7,_f8);},onRetry:function(){this._doOnRetry();},onUploadRequestEnqueued:function(){this._doOnUploadRequestEnqueued();},getUploadingFilename:function(){return this._doGetUploadingFilename();},getFileInput:function(){return this._doGetFileInput();},setAssociatedID:function(_f9){this._doSetAssociatedID(_f9);},getAssociatedID:function(){return this._doGetAssociatedID();},onStatusSuccess:function(_fa){this._doOnStatusSuccess(_fa);},onStatusError:function(_fb){this._doOnStatusError(_fb);}});dojo.declare("multiplefileuploader.widget._UploadedFileInformation",null,{constructor:function(_fc){this._data=_fc;},getName:function(){return this._data.name;},getThumbURL:function(){return this._data.thumb;},getMimeType:function(){return this._data.mimetype;},getSize:function(){return this._data.size;},getStatus:function(){return this._data.status;},getErrorCode:function(){return this._data.errorcode;},getID:function(){return this._data.id;}});dojo.declare("multiplefileuploader.widget._UploadQueue",null,{constructor:function(_fd){this.uploadManager=_fd;this._filesInQueue=new dojox.collections.Queue([]);this._currentUploadRequest=null;this._uploadFinished=0;this._uploading=false;this._totalNumberOfUploadRequests=0;this._errorCategorizer=new multiplefileuploader.widget.ErrorCategorizer();},onImageUploadRequest:function(_fe){this._filesInQueue.enqueue(_fe);this._totalNumberOfUploadRequests++;},onBeforeUploadStart:function(_ff){this._currentUploadRequest=_ff;this._filesInQueue.dequeue(_ff);this._uploading=true;},onUploadSuccess:function(){this._uploading=false;this._uploadFinished++;this.uploadManager._processNextUpload();},onUploadFailure:function(_100,_101){this._uploading=false;if(this._errorCategorizer.getErrorType(_101)==multiplefileuploader.widget.errorType.ERROR_TYPE_RECOVERABLE){this._enqueueAtBegining(_100);}},getTotalNumberOfUploadRequests:function(){return this._totalNumberOfUploadRequests;},getNumberOfFinishedUploads:function(){return this._uploadFinished;},getNumberUploadsInProgress:function(){return this.getTotalNumberOfUploadRequests()-this.getNumberOfFinishedUploads();},getPendingElements:function(){return this._filesInQueue.toArray();},isUploading:function(){return this._uploading;},getNextUploadRequest:function(){if(!this.isUploading()&&this._filesInQueue.count>0){return this._filesInQueue.peek();}else{return null;}},getCurrentlyUploadingFilename:function(){return this._currentUploadRequest.getUploadingFilename();},_enqueueAtBegining:function(_102){var q=new dojox.collections.Queue([]);q.enqueue(_102);dojo.forEach(this._filesInQueue.toArray(),function(elt){q.enqueue(elt);});this._filesInQueue=q;}});}if(!dojo._hasResource["dojo.fx.Toggler"]){dojo._hasResource["dojo.fx.Toggler"]=true;dojo.provide("dojo.fx.Toggler");dojo.declare("dojo.fx.Toggler",null,{node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){var _103=this;dojo.mixin(_103,args);_103.node=args.node;_103._showArgs=dojo.mixin({},args);_103._showArgs.node=_103.node;_103._showArgs.duration=_103.showDuration;_103.showAnim=_103.showFunc(_103._showArgs);_103._hideArgs=dojo.mixin({},args);_103._hideArgs.node=_103.node;_103._hideArgs.duration=_103.hideDuration;_103.hideAnim=_103.hideFunc(_103._hideArgs);dojo.connect(_103.showAnim,"beforeBegin",dojo.hitch(_103.hideAnim,"stop",true));dojo.connect(_103.hideAnim,"beforeBegin",dojo.hitch(_103.showAnim,"stop",true));},show:function(_104){return this.showAnim.play(_104||0);},hide:function(_105){return this.hideAnim.play(_105||0);}});}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");(function(){var d=dojo,_106={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _107=function(_108){this._index=-1;this._animations=_108||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;d.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};d.extend(_107,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){d.disconnect(this._onAnimateCtx);d.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_109,_10a){if(!this._current){this._current=this._animations[this._index=0];}if(!_10a&&this._current.status()=="playing"){return this;}var _10b=d.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_10c=d.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_10d=d.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);d.disconnect(_10b);d.disconnect(_10c);d.disconnect(_10d);});if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){d.disconnect(this._onEndCtx);}this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=d.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);d.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_10e,_10f){this.pause();var _110=this.duration*_10e;this._current=null;d.some(this._animations,function(a){if(a.duration<=_110){this._current=a;return true;}_110-=a.duration;return false;});if(this._current){this._current.gotoPercent(_110/this._current.duration,_10f);}return this;},stop:function(_111){if(this._current){if(_111){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=d.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);d.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}if(this._onEndCtx){d.disconnect(this._onEndCtx);}}});d.extend(_107,_106);dojo.fx.chain=function(_112){return new _107(_112);};var _113=function(_114){this._animations=_114||[];this._connects=[];this._finished=0;this.duration=0;d.forEach(_114,function(a){var _115=a.duration;if(a.delay){_115+=a.delay;}if(this.duration<_115){this.duration=_115;}this._connects.push(d.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new d.Animation({curve:[0,1],duration:this.duration});var self=this;d.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(d.connect(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);}));});};d.extend(_113,{_doAction:function(_116,args){d.forEach(this._animations,function(a){a[_116].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_117,args){var t=this._pseudoAnimation;t[_117].apply(t,args);},play:function(_118,_119){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_11a,_11b){var ms=this.duration*_11a;d.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_11b);});this._call("gotoPercent",arguments);return this;},stop:function(_11c){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){d.forEach(this._connects,dojo.disconnect);}});d.extend(_113,_106);dojo.fx.combine=function(_11d){return new _113(_11d);};dojo.fx.wipeIn=function(args){var node=args.node=d.byId(args.node),s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _11e=d.style(node,"height");return Math.max(_11e,1);}},end:function(){return node.scrollHeight;}}}},args));d.connect(anim,"onEnd",function(){s.height="auto";s.overflow=o;});return anim;};dojo.fx.wipeOut=function(args){var node=args.node=d.byId(args.node),s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{end:1}}},args));d.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});d.connect(anim,"onEnd",function(){s.overflow=o;s.height="auto";s.display="none";});return anim;};dojo.fx.slideTo=function(args){var node=args.node=d.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=d.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=d.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=d.animateProperty(d.mixin({properties:{top:args.top||0,left:args.left||0}},args));d.connect(anim,"beforeBegin",anim,init);return anim;};})();}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.i18n.getLocalization=function(_11f,_120,_121){_121=dojo.i18n.normalizeLocale(_121);var _122=_121.split("-");var _123=[_11f,"nls",_120].join(".");var _124=dojo._loadedModules[_123];if(_124){var _125;for(var i=_122.length;i>0;i--){var loc=_122.slice(0,i).join("_");if(_124[loc]){_125=_124[loc];break;}}if(!_125){_125=_124.ROOT;}if(_125){var _126=function(){};_126.prototype=_125;return new _126();}}throw new Error("Bundle not found: "+_120+" in "+_11f+" , locale="+_121);};dojo.i18n.normalizeLocale=function(_127){var _128=_127?_127.toLowerCase():dojo.locale;if(_128=="root"){_128="ROOT";}return _128;};dojo.i18n._requireLocalization=function(_129,_12a,_12b,_12c){var _12d=dojo.i18n.normalizeLocale(_12b);var _12e=[_129,"nls",_12a].join(".");var _12f="";if(_12c){var _130=_12c.split(",");for(var i=0;i<_130.length;i++){if(_12d["indexOf"](_130[i])==0){if(_130[i].length>_12f.length){_12f=_130[i];}}}if(!_12f){_12f="ROOT";}}var _131=_12c?_12f:_12d;var _132=dojo._loadedModules[_12e];var _133=null;if(_132){if(dojo.config.localizationComplete&&_132._built){return;}var _134=_131.replace(/-/g,"_");var _135=_12e+"."+_134;_133=dojo._loadedModules[_135];}if(!_133){_132=dojo["provide"](_12e);var syms=dojo._getModuleSymbols(_129);var _136=syms.concat("nls").join("/");var _137;dojo.i18n._searchLocalePath(_131,_12c,function(loc){var _138=loc.replace(/-/g,"_");var _139=_12e+"."+_138;var _13a=false;if(!dojo._loadedModules[_139]){dojo["provide"](_139);var _13b=[_136];if(loc!="ROOT"){_13b.push(loc);}_13b.push(_12a);var _13c=_13b.join("/")+".js";_13a=dojo._loadPath(_13c,null,function(hash){var _13d=function(){};_13d.prototype=_137;_132[_138]=new _13d();for(var j in hash){_132[_138][j]=hash[j];}});}else{_13a=true;}if(_13a&&_132[_138]){_137=_132[_138];}else{_132[_138]=_137;}if(_12c){return true;}});}if(_12c&&_12d!=_12f){_132[_12d.replace(/-/g,"_")]=_132[_12f.replace(/-/g,"_")];}};(function(){var _13e=dojo.config.extraLocale;if(_13e){if(!_13e instanceof Array){_13e=[_13e];}var req=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(m,b,_13f,_140){req(m,b,_13f,_140);if(_13f){return;}for(var i=0;i<_13e.length;i++){req(m,b,_13e[i],_140);}};}})();dojo.i18n._searchLocalePath=function(_141,down,_142){_141=dojo.i18n.normalizeLocale(_141);var _143=_141.split("-");var _144=[];for(var i=_143.length;i>0;i--){_144.push(_143.slice(0,i).join("-"));}_144.push(false);if(down){_144.reverse();}for(var j=_144.length-1;j>=0;j--){var loc=_144[j]||"ROOT";var stop=_142(loc);if(stop){break;}}};dojo.i18n._preloadLocalizations=function(_145,_146){function _147(_148){_148=dojo.i18n.normalizeLocale(_148);dojo.i18n._searchLocalePath(_148,true,function(loc){for(var i=0;i<_146.length;i++){if(_146[i]==loc){dojo["require"](_145+"_"+loc);return true;}}return false;});};_147();var _149=dojo.config.extraLocale||[];for(var i=0;i<_149.length;i++){_147(_149[i]);}};}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_14a,map,_14b,_14c){_14c=_14c||dojo.global;_14b=_14b?dojo.hitch(_14c,_14b):function(v){return v;};return _14a.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_14d,key,_14e){var _14f=dojo.getObject(key,false,map);if(_14e){_14f=dojo.getObject(_14e,false,_14c).call(_14c,_14f,key);}return _14b(_14f,key).toString();});};dojo.string.trim=String.prototype.trim?dojo.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.regexp.escapeString=function(str,_150){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_150&&_150.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(arr,re,_151){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_151);};dojo.regexp.group=function(_152,_153){return "("+(_153?"?:":"")+_152+")";};}if(!dojo._hasResource["dojo.number"]){dojo._hasResource["dojo.number"]=true;dojo.provide("dojo.number");dojo.number.format=function(_154,_155){_155=dojo.mixin({},_155||{});var _156=dojo.i18n.normalizeLocale(_155.locale),_157=dojo.i18n.getLocalization("dojo.cldr","number",_156);_155.customs=_157;var _158=_155.pattern||_157[(_155.type||"decimal")+"Format"];if(isNaN(_154)||Math.abs(_154)==Infinity){return null;}return dojo.number._applyPattern(_154,_158,_155);};dojo.number._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;dojo.number._applyPattern=function(_159,_15a,_15b){_15b=_15b||{};var _15c=_15b.customs.group,_15d=_15b.customs.decimal,_15e=_15a.split(";"),_15f=_15e[0];_15a=_15e[(_159<0)?1:0]||("-"+_15f);if(_15a.indexOf("%")!=-1){_159*=100;}else{if(_15a.indexOf("‰")!=-1){_159*=1000;}else{if(_15a.indexOf("¤")!=-1){_15c=_15b.customs.currencyGroup||_15c;_15d=_15b.customs.currencyDecimal||_15d;_15a=_15a.replace(/\u00a4{1,3}/,function(_160){var prop=["symbol","currency","displayName"][_160.length-1];return _15b[prop]||_15b.currency||"";});}else{if(_15a.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _161=dojo.number._numberPatternRE;var _162=_15f.match(_161);if(!_162){throw new Error("unable to find a number expression in pattern: "+_15a);}if(_15b.fractional===false){_15b.places=0;}return _15a.replace(_161,dojo.number._formatAbsolute(_159,_162[0],{decimal:_15d,group:_15c,places:_15b.places,round:_15b.round}));};dojo.number.round=function(_163,_164,_165){var _166=10/(_165||10);return (_166*+_163).toFixed(_164)/_166;};if((0.9).toFixed()==0){(function(){var _167=dojo.number.round;dojo.number.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d||a*Math.pow(10,p+1)<5){d=0;}return _167(v,p,m)+(v>0?d:-d);};})();}dojo.number._formatAbsolute=function(_168,_169,_16a){_16a=_16a||{};if(_16a.places===true){_16a.places=0;}if(_16a.places===Infinity){_16a.places=6;}var _16b=_169.split("."),_16c=typeof _16a.places=="string"&&_16a.places.indexOf(","),_16d=_16a.places;if(_16c){_16d=_16a.places.substring(_16c+1);}else{if(!(_16d>=0)){_16d=(_16b[1]||[]).length;}}if(!(_16a.round<0)){_168=dojo.number.round(_168,_16d,_16a.round);}var _16e=String(Math.abs(_168)).split("."),_16f=_16e[1]||"";if(_16b[1]||_16a.places){if(_16c){_16a.places=_16a.places.substring(0,_16c);}var pad=_16a.places!==undefined?_16a.places:(_16b[1]&&_16b[1].lastIndexOf("0")+1);if(pad>_16f.length){_16e[1]=dojo.string.pad(_16f,pad,"0",true);}if(_16d<_16f.length){_16e[1]=_16f.substr(0,_16d);}}else{if(_16e[1]){_16e.pop();}}var _170=_16b[0].replace(",","");pad=_170.indexOf("0");if(pad!=-1){pad=_170.length-pad;if(pad>_16e[0].length){_16e[0]=dojo.string.pad(_16e[0],pad);}if(_170.indexOf("#")==-1){_16e[0]=_16e[0].substr(_16e[0].length-pad);}}var _171=_16b[0].lastIndexOf(","),_172,_173;if(_171!=-1){_172=_16b[0].length-_171-1;var _174=_16b[0].substr(0,_171);_171=_174.lastIndexOf(",");if(_171!=-1){_173=_174.length-_171-1;}}var _175=[];for(var _176=_16e[0];_176;){var off=_176.length-_172;_175.push((off>0)?_176.substr(off):_176);_176=(off>0)?_176.slice(0,off):"";if(_173){_172=_173;delete _173;}}_16e[0]=_175.reverse().join(_16a.group||",");return _16e.join(_16a.decimal||".");};dojo.number.regexp=function(_177){return dojo.number._parseInfo(_177).regexp;};dojo.number._parseInfo=function(_178){_178=_178||{};var _179=dojo.i18n.normalizeLocale(_178.locale),_17a=dojo.i18n.getLocalization("dojo.cldr","number",_179),_17b=_178.pattern||_17a[(_178.type||"decimal")+"Format"],_17c=_17a.group,_17d=_17a.decimal,_17e=1;if(_17b.indexOf("%")!=-1){_17e/=100;}else{if(_17b.indexOf("‰")!=-1){_17e/=1000;}else{var _17f=_17b.indexOf("¤")!=-1;if(_17f){_17c=_17a.currencyGroup||_17c;_17d=_17a.currencyDecimal||_17d;}}}var _180=_17b.split(";");if(_180.length==1){_180.push("-"+_180[0]);}var re=dojo.regexp.buildGroupRE(_180,function(_181){_181="(?:"+dojo.regexp.escapeString(_181,".")+")";return _181.replace(dojo.number._numberPatternRE,function(_182){var _183={signed:false,separator:_178.strict?_17c:[_17c,""],fractional:_178.fractional,decimal:_17d,exponent:false},_184=_182.split("."),_185=_178.places;if(_184.length==1&&_17e!=1){_184[1]="###";}if(_184.length==1||_185===0){_183.fractional=false;}else{if(_185===undefined){_185=_178.pattern?_184[1].lastIndexOf("0")+1:Infinity;}if(_185&&_178.fractional==undefined){_183.fractional=true;}if(!_178.places&&(_185<_184[1].length)){_185+=","+_184[1].length;}_183.places=_185;}var _186=_184[0].split(",");if(_186.length>1){_183.groupSize=_186.pop().length;if(_186.length>1){_183.groupSize2=_186.pop().length;}}return "("+dojo.number._realNumberRegexp(_183)+")";});},true);if(_17f){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_187,_188,_189,_18a){var prop=["symbol","currency","displayName"][_189.length-1],_18b=dojo.regexp.escapeString(_178[prop]||_178.currency||"");_188=_188?"[\\s\\xa0]":"";_18a=_18a?"[\\s\\xa0]":"";if(!_178.strict){if(_188){_188+="*";}if(_18a){_18a+="*";}return "(?:"+_188+_18b+_18a+")?";}return _188+_18b+_18a;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_17c,decimal:_17d,factor:_17e};};dojo.number.parse=function(_18c,_18d){var info=dojo.number._parseInfo(_18d),_18e=(new RegExp("^"+info.regexp+"$")).exec(_18c);if(!_18e){return NaN;}var _18f=_18e[1];if(!_18e[1]){if(!_18e[2]){return NaN;}_18f=_18e[2];info.factor*=-1;}_18f=_18f.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _18f*info.factor;};dojo.number._realNumberRegexp=function(_190){_190=_190||{};if(!("places" in _190)){_190.places=Infinity;}if(typeof _190.decimal!="string"){_190.decimal=".";}if(!("fractional" in _190)||/^0/.test(_190.places)){_190.fractional=[true,false];}if(!("exponent" in _190)){_190.exponent=[true,false];}if(!("eSigned" in _190)){_190.eSigned=[true,false];}var _191=dojo.number._integerRegexp(_190),_192=dojo.regexp.buildGroupRE(_190.fractional,function(q){var re="";if(q&&(_190.places!==0)){re="\\"+_190.decimal;if(_190.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_190.places+"}";}}return re;},true);var _193=dojo.regexp.buildGroupRE(_190.exponent,function(q){if(q){return "([eE]"+dojo.number._integerRegexp({signed:_190.eSigned})+")";}return "";});var _194=_191+_192;if(_192){_194="(?:(?:"+_194+")|(?:"+_192+"))";}return _194+_193;};dojo.number._integerRegexp=function(_195){_195=_195||{};if(!("signed" in _195)){_195.signed=[true,false];}if(!("separator" in _195)){_195.separator="";}else{if(!("groupSize" in _195)){_195.groupSize=3;}}var _196=dojo.regexp.buildGroupRE(_195.signed,function(q){return q?"[-+]":"";},true);var _197=dojo.regexp.buildGroupRE(_195.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=dojo.regexp.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==" "){sep="\\s\\xa0";}}var grp=_195.groupSize,grp2=_195.groupSize2;if(grp2){var _198="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_198+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_198;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _196+_197;};}if(!dojo._hasResource["dojo.window"]){dojo._hasResource["dojo.window"]=true;dojo.provide("dojo.window");dojo.window.getBox=function(){var _199=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var _19a=dojo._docScroll();return {w:_199.clientWidth,h:_199.clientHeight,l:_19a.x,t:_19a.y};};dojo.window.get=function(doc){if(dojo.isIE&&window!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;};dojo.window.scrollIntoView=function(node,pos){try{node=dojo.byId(node);var doc=node.ownerDocument||dojo.doc,body=doc.body||dojo.body(),html=doc.documentElement||body.parentNode,isIE=dojo.isIE,isWK=dojo.isWebKit;if((!(dojo.isMoz||isIE||isWK||dojo.isOpera)||node==body||node==html)&&(typeof node.scrollIntoView!="undefined")){node.scrollIntoView(false);return;}var _19b=doc.compatMode=="BackCompat",_19c=_19b?body:html,_19d=isWK?body:_19c,_19e=_19c.clientWidth,_19f=_19c.clientHeight,rtl=!dojo._isBodyLtr(),_1a0=pos||dojo.position(node),el=node.parentNode,_1a1=function(el){return ((isIE<=6||(isIE&&_19b))?false:(dojo.style(el,"position").toLowerCase()=="fixed"));};if(_1a1(node)){return;}while(el){if(el==body){el=_19d;}var _1a2=dojo.position(el),_1a3=_1a1(el);if(el==_19d){_1a2.w=_19e;_1a2.h=_19f;if(_19d==html&&isIE&&rtl){_1a2.x+=_19d.offsetWidth-_1a2.w;}if(_1a2.x<0||!isIE){_1a2.x=0;}if(_1a2.y<0||!isIE){_1a2.y=0;}}else{var pb=dojo._getPadBorderExtents(el);_1a2.w-=pb.w;_1a2.h-=pb.h;_1a2.x+=pb.l;_1a2.y+=pb.t;}if(el!=_19d){var _1a4=el.clientWidth,_1a5=_1a2.w-_1a4;if(_1a4>0&&_1a5>0){_1a2.w=_1a4;if(isIE&&rtl){_1a2.x+=_1a5;}}_1a4=el.clientHeight;_1a5=_1a2.h-_1a4;if(_1a4>0&&_1a5>0){_1a2.h=_1a4;}}if(_1a3){if(_1a2.y<0){_1a2.h+=_1a2.y;_1a2.y=0;}if(_1a2.x<0){_1a2.w+=_1a2.x;_1a2.x=0;}if(_1a2.y+_1a2.h>_19f){_1a2.h=_19f-_1a2.y;}if(_1a2.x+_1a2.w>_19e){_1a2.w=_19e-_1a2.x;}}var l=_1a0.x-_1a2.x,t=_1a0.y-Math.max(_1a2.y,0),r=l+_1a0.w-_1a2.w,bot=t+_1a0.h-_1a2.h;if(r*l>0){var s=Math[l<0?"max":"min"](l,r);_1a0.x+=el.scrollLeft;el.scrollLeft+=(isIE>=8&&!_19b&&rtl)?-s:s;_1a0.x-=el.scrollLeft;}if(bot*t>0){_1a0.y+=el.scrollTop;el.scrollTop+=Math[t<0?"max":"min"](t,bot);_1a0.y-=el.scrollTop;}el=(el!=_19d)&&!_1a3&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}};}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_1a6){if(this._hash[_1a6.id]){throw new Error("Tried to register widget with id=="+_1a6.id+" but that id is already registered");}this._hash[_1a6.id]=_1a6;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(func,_1a7){_1a7=_1a7||dojo.global;var i=0,id;for(id in this._hash){func.call(_1a7,this._hash[id],i++,this._hash);}return this;},filter:function(_1a8,_1a9){_1a9=_1a9||dojo.global;var res=new dijit.WidgetSet(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_1a8.call(_1a9,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new dijit.WidgetSet(),id,_1aa;for(id in this._hash){_1aa=this._hash[id];if(_1aa.declaredClass==cls){res.add(_1aa);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(func,_1ab){return dojo.map(this.toArray(),func,_1ab);},every:function(func,_1ac){_1ac=_1ac||dojo.global;var x=0,i;for(i in this._hash){if(!func.call(_1ac,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(func,_1ad){_1ad=_1ad||dojo.global;var x=0,i;for(i in this._hash){if(func.call(_1ad,this._hash[i],x++,this._hash)){return true;}}return false;}});(function(){dijit.registry=new dijit.WidgetSet();var hash=dijit.registry._hash,attr=dojo.attr,_1ae=dojo.hasAttr,_1af=dojo.style;dijit.byId=function(id){return typeof id=="string"?hash[id]:id;};var _1b0={};dijit.getUniqueId=function(_1b1){var id;do{id=_1b1+"_"+(_1b1 in _1b0?++_1b0[_1b1]:_1b0[_1b1]=0);}while(hash[id]);return dijit._scopeName=="dijit"?id:dijit._scopeName+"_"+id;};dijit.findWidgets=function(root){var _1b2=[];function _1b3(root){for(var node=root.firstChild;node;node=node.nextSibling){if(node.nodeType==1){var _1b4=node.getAttribute("widgetId");if(_1b4){_1b2.push(hash[_1b4]);}else{_1b3(node);}}}};_1b3(root);return _1b2;};dijit._destroyAll=function(){dijit._curFocus=null;dijit._prevFocus=null;dijit._activeStack=[];dojo.forEach(dijit.findWidgets(dojo.body()),function(_1b5){if(!_1b5._destroyed){if(_1b5.destroyRecursive){_1b5.destroyRecursive();}else{if(_1b5.destroy){_1b5.destroy();}}}});};if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit._destroyAll();});}dijit.byNode=function(node){return hash[node.getAttribute("widgetId")];};dijit.getEnclosingWidget=function(node){while(node){var id=node.getAttribute&&node.getAttribute("widgetId");if(id){return hash[id];}node=node.parentNode;}return null;};var _1b6=(dijit._isElementShown=function(elem){var s=_1af(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(attr(elem,"type")!="hidden");});dijit.hasDefaultTabStop=function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _1ae(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":if(dojo.isMoz){try{return elem.contentDocument.designMode=="on";}catch(err){return false;}}else{if(dojo.isWebKit){var doc=elem.contentDocument,body=doc&&doc.body;return body&&body.contentEditable=="true";}else{try{doc=elem.contentWindow.document;body=doc&&doc.body;return body&&body.firstChild&&body.firstChild.contentEditable=="true";}catch(e){return false;}}}default:return elem.contentEditable=="true";}};var _1b7=(dijit.isTabNavigable=function(elem){if(attr(elem,"disabled")){return false;}else{if(_1ae(elem,"tabIndex")){return attr(elem,"tabIndex")>=0;}else{return dijit.hasDefaultTabStop(elem);}}});dijit._getTabNavigable=function(root){var _1b8,last,_1b9,_1ba,_1bb,_1bc;var _1bd=function(_1be){dojo.query("> *",_1be).forEach(function(_1bf){if((dojo.isIE&&_1bf.scopeName!=="HTML")||!_1b6(_1bf)){return;}if(_1b7(_1bf)){var _1c0=attr(_1bf,"tabIndex");if(!_1ae(_1bf,"tabIndex")||_1c0==0){if(!_1b8){_1b8=_1bf;}last=_1bf;}else{if(_1c0>0){if(!_1b9||_1c0<_1ba){_1ba=_1c0;_1b9=_1bf;}if(!_1bb||_1c0>=_1bc){_1bc=_1c0;_1bb=_1bf;}}}}if(_1bf.nodeName.toUpperCase()!="SELECT"){_1bd(_1bf);}});};if(_1b6(root)){_1bd(root);}return {first:_1b8,last:last,lowest:_1b9,highest:_1bb};};dijit.getFirstInTabbingOrder=function(root){var _1c1=dijit._getTabNavigable(dojo.byId(root));return _1c1.lowest?_1c1.lowest:_1c1.first;};dijit.getLastInTabbingOrder=function(root){var _1c2=dijit._getTabNavigable(dojo.byId(root));return _1c2.last?_1c2.last:_1c2.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;})();}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return dijit.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=dojo.doc.selection,cf=dijit._curFocus;if(dojo.global.getSelection){sel=dojo.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;},moveToBookmark:function(_1c3){var _1c4=dojo.doc,mark=_1c3.mark;if(mark){if(dojo.global.getSelection){var sel=dojo.global.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var r=mark;var n=r.node;n.selectionStart=r.start;n.selectionEnd=r.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(_1c4.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(dojo.isArray(mark)){rg=_1c4.body.createControlRange();dojo.forEach(mark,function(n){rg.addElement(n);});}else{rg=_1c4.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}},getFocus:function(menu,_1c5){var node=!dijit._curFocus||(menu&&dojo.isDescendant(dijit._curFocus,menu.domNode))?dijit._prevFocus:dijit._curFocus;return {node:node,bookmark:(node==dijit._curFocus)&&dojo.withGlobal(_1c5||dojo.global,dijit.getBookmark),openedForWindow:_1c5};},focus:function(_1c6){if(!_1c6){return;}var node="node" in _1c6?_1c6.node:_1c6,_1c7=_1c6.bookmark,_1c8=_1c6.openedForWindow,_1c9=_1c7?_1c7.isCollapsed:false;if(node){var _1ca=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_1ca&&_1ca.focus){try{_1ca.focus();}catch(e){}}dijit._onFocusNode(node);}if(_1c7&&dojo.withGlobal(_1c8||dojo.global,dijit.isCollapsed)&&!_1c9){if(_1c8){_1c8.focus();}try{dojo.withGlobal(_1c8||dojo.global,dijit.moveToBookmark,null,[_1c7]);}catch(e2){}}},_activeStack:[],registerIframe:function(_1cb){return dijit.registerWin(_1cb.contentWindow,_1cb);},unregisterIframe:function(_1cc){dijit.unregisterWin(_1cc);},registerWin:function(_1cd,_1ce){var _1cf=function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);if(dojo.isIE&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){return;}dijit._onTouchNode(_1ce||evt.target||evt.srcElement,"mouse");};var doc=dojo.isIE?_1cd.document.documentElement:_1cd.document;if(doc){if(dojo.isIE){doc.attachEvent("onmousedown",_1cf);var _1d0=function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"&&dijit.isTabNavigable(evt.srcElement)){dijit._onFocusNode(_1ce||evt.srcElement);}else{dijit._onTouchNode(_1ce||evt.srcElement);}};doc.attachEvent("onactivate",_1d0);var _1d1=function(evt){dijit._onBlurNode(_1ce||evt.srcElement);};doc.attachEvent("ondeactivate",_1d1);return function(){doc.detachEvent("onmousedown",_1cf);doc.detachEvent("onactivate",_1d0);doc.detachEvent("ondeactivate",_1d1);doc=null;};}else{doc.addEventListener("mousedown",_1cf,true);var _1d2=function(evt){dijit._onFocusNode(_1ce||evt.target);};doc.addEventListener("focus",_1d2,true);var _1d3=function(evt){dijit._onBlurNode(_1ce||evt.target);};doc.addEventListener("blur",_1d3,true);return function(){doc.removeEventListener("mousedown",_1cf,true);doc.removeEventListener("focus",_1d2,true);doc.removeEventListener("blur",_1d3,true);doc=null;};}}},unregisterWin:function(_1d4){_1d4&&_1d4();},_onBlurNode:function(node){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(node,by){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _1d5=[];try{while(node){var _1d6=dojo.attr(node,"dijitPopupParent");if(_1d6){node=dijit.byId(_1d6).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===dojo.body()){break;}node=dojo.window.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_1d7=id&&dijit.byId(id);if(_1d7&&!(by=="mouse"&&_1d7.get("disabled"))){_1d5.unshift(id);}node=node.parentNode;}}}}catch(e){}dijit._setStack(_1d5,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}dijit._onTouchNode(node);if(node==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=node;dojo.publish("focusNode",[node]);},_setStack:function(_1d8,by){var _1d9=dijit._activeStack;dijit._activeStack=_1d8;for(var _1da=0;_1da<Math.min(_1d9.length,_1d8.length);_1da++){if(_1d9[_1da]!=_1d8[_1da]){break;}}var _1db;for(var i=_1d9.length-1;i>=_1da;i--){_1db=dijit.byId(_1d9[i]);if(_1db){_1db._focused=false;_1db._hasBeenBlurred=true;if(_1db._onBlur){_1db._onBlur(by);}dojo.publish("widgetBlur",[_1db,by]);}}for(i=_1da;i<_1d8.length;i++){_1db=dijit.byId(_1d8[i]);if(_1db){_1db._focused=true;if(_1db._onFocus){_1db._onFocus(by);}dojo.publish("widgetFocus",[_1db,by]);}}}});dojo.addOnLoad(function(){var _1dc=dijit.registerWin(window);if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit.unregisterWin(_1dc);_1dc=null;});}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){return dojo.window.getBox();};dijit.placeOnScreen=function(node,pos,_1dd,_1de){var _1df=dojo.map(_1dd,function(_1e0){var c={corner:_1e0,pos:{x:pos.x,y:pos.y}};if(_1de){c.pos.x+=_1e0.charAt(1)=="L"?_1de.x:-_1de.x;c.pos.y+=_1e0.charAt(0)=="T"?_1de.y:-_1de.y;}return c;});return dijit._place(node,_1df);};dijit._place=function(node,_1e1,_1e2){var view=dojo.window.getBox();if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(node);}var best=null;dojo.some(_1e1,function(_1e3){var _1e4=_1e3.corner;var pos=_1e3.pos;if(_1e2){_1e2(node,_1e3.aroundCorner,_1e4);}var _1e5=node.style;var _1e6=_1e5.display;var _1e7=_1e5.visibility;_1e5.visibility="hidden";_1e5.display="";var mb=dojo.marginBox(node);_1e5.display=_1e6;_1e5.visibility=_1e7;var _1e8=Math.max(view.l,_1e4.charAt(1)=="L"?pos.x:(pos.x-mb.w)),_1e9=Math.max(view.t,_1e4.charAt(0)=="T"?pos.y:(pos.y-mb.h)),endX=Math.min(view.l+view.w,_1e4.charAt(1)=="L"?(_1e8+mb.w):pos.x),endY=Math.min(view.t+view.h,_1e4.charAt(0)=="T"?(_1e9+mb.h):pos.y),_1ea=endX-_1e8,_1eb=endY-_1e9,_1ec=(mb.w-_1ea)+(mb.h-_1eb);if(best==null||_1ec<best.overflow){best={corner:_1e4,aroundCorner:_1e3.aroundCorner,x:_1e8,y:_1e9,w:_1ea,h:_1eb,overflow:_1ec};}return !_1ec;});node.style.left=best.x+"px";node.style.top=best.y+"px";if(best.overflow&&_1e2){_1e2(node,best.aroundCorner,best.corner);}return best;};dijit.placeOnScreenAroundNode=function(node,_1ed,_1ee,_1ef){_1ed=dojo.byId(_1ed);var _1f0=_1ed.style.display;_1ed.style.display="";var _1f1=dojo.position(_1ed,true);_1ed.style.display=_1f0;return dijit._placeOnScreenAroundRect(node,_1f1.x,_1f1.y,_1f1.w,_1f1.h,_1ee,_1ef);};dijit.placeOnScreenAroundRectangle=function(node,_1f2,_1f3,_1f4){return dijit._placeOnScreenAroundRect(node,_1f2.x,_1f2.y,_1f2.width,_1f2.height,_1f3,_1f4);};dijit._placeOnScreenAroundRect=function(node,x,y,_1f5,_1f6,_1f7,_1f8){var _1f9=[];for(var _1fa in _1f7){_1f9.push({aroundCorner:_1fa,corner:_1f7[_1fa],pos:{x:x+(_1fa.charAt(1)=="L"?0:_1f5),y:y+(_1fa.charAt(0)=="T"?0:_1f6)}});}return dijit._place(node,_1f9,_1f8);};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(node,_1fb,_1fc,_1fd){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};dijit.getPopupAroundAlignment=function(_1fe,_1ff){var _200={};dojo.forEach(_1fe,function(pos){switch(pos){case "after":_200[_1ff?"BR":"BL"]=_1ff?"BL":"BR";break;case "before":_200[_1ff?"BL":"BR"]=_1ff?"BR":"BL";break;case "below":_200[_1ff?"BL":"BR"]=_1ff?"TL":"TR";_200[_1ff?"BR":"BL"]=_1ff?"TR":"TL";break;case "above":default:_200[_1ff?"TL":"TR"]=_1ff?"BL":"BR";_200[_1ff?"TR":"TL"]=_1ff?"BR":"BL";break;}});return _200;};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){return dojo.window.get(doc);};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup={_stack:[],_beginZIndex:1000,_idGen:1,moveOffScreen:function(node){var _201=node.parentNode;if(!_201||!dojo.hasClass(_201,"dijitPopup")){_201=dojo.create("div",{"class":"dijitPopup",style:{visibility:"hidden",top:"-9999px"}},dojo.body());dijit.setWaiRole(_201,"presentation");_201.appendChild(node);}var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";dojo.style(_201,{visibility:"hidden",top:"-9999px"});},getTopPopup:function(){var _202=this._stack;for(var pi=_202.length-1;pi>0&&_202[pi].parent===_202[pi-1].widget;pi--){}return _202[pi];},open:function(args){var _203=this._stack,_204=args.popup,_205=args.orient||((args.parent?args.parent.isLeftToRight():dojo._isBodyLtr())?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),_206=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);var _207=_204.domNode.parentNode;if(!_207||!dojo.hasClass(_207,"dijitPopup")){this.moveOffScreen(_204.domNode);_207=_204.domNode.parentNode;}dojo.attr(_207,{id:id,style:{zIndex:this._beginZIndex+_203.length},"class":"dijitPopup "+(_204.baseClass||_204["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(dojo.isIE||dojo.isMoz){var _208=_207.childNodes[1];if(!_208){_208=new dijit.BackgroundIframe(_207);}}var best=_206?dijit.placeOnScreenAroundElement(_207,_206,_205,_204.orient?dojo.hitch(_204,"orient"):null):dijit.placeOnScreen(_207,args,_205=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_207.style.visibility="visible";_204.domNode.style.visibility="visible";var _209=[];_209.push(dojo.connect(_207,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&args.onCancel){dojo.stopEvent(evt);args.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _20a=this.getTopPopup();if(_20a&&_20a.onCancel){_20a.onCancel();}}}}));if(_204.onCancel){_209.push(dojo.connect(_204,"onCancel",args.onCancel));}_209.push(dojo.connect(_204,_204.onExecute?"onExecute":"onChange",this,function(){var _20b=this.getTopPopup();if(_20b&&_20b.onExecute){_20b.onExecute();}}));_203.push({wrapper:_207,iframe:_208,widget:_204,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_209});if(_204.onOpen){_204.onOpen(best);}return best;},close:function(_20c){var _20d=this._stack;while(dojo.some(_20d,function(elem){return elem.widget==_20c;})){var top=_20d.pop(),_20e=top.wrapper,_20f=top.iframe,_210=top.widget,_211=top.onClose;if(_210.onClose){_210.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(_210&&_210.domNode){this.moveOffScreen(_210.domNode);}else{dojo.destroy(_20e);}if(_211){_211();}}}};dijit._frames=new function(){var _212=[];this.pop=function(){var _213;if(_212.length){_213=_212.pop();_213.style.display="";}else{if(dojo.isIE){var burl=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var html="<iframe src='"+burl+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_213=dojo.doc.createElement(html);}else{_213=dojo.create("iframe");_213.src="javascript:\"\"";_213.className="dijitBackgroundIframe";dojo.style(_213,"opacity",0.1);}_213.tabIndex=-1;dijit.setWaiRole(_213,"presentation");}return _213;};this.push=function(_214){_214.style.display="none";_212.push(_214);};}();dijit.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(dojo.isIE||dojo.isMoz){var _215=dijit._frames.pop();node.appendChild(_215);if(dojo.isIE<7){this.resize(node);this._conn=dojo.connect(node,"onresize",this,function(){this.resize(node);});}else{dojo.style(_215,{width:"100%",height:"100%"});}this.iframe=_215;}};dojo.extend(dijit.BackgroundIframe,{resize:function(node){if(this.iframe&&dojo.isIE<7){dojo.style(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){dojo.disconnect(this._conn);this._conn=null;}if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(node,pos){dojo.window.scrollIntoView(node,pos);};}if(!dojo._hasResource["dojo.uacss"]){dojo._hasResource["dojo.uacss"]=true;dojo.provide("dojo.uacss");(function(){var d=dojo,html=d.doc.documentElement,ie=d.isIE,_216=d.isOpera,maj=Math.floor,ff=d.isFF,_217=d.boxModel.replace(/-/,""),_218={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_ie8:maj(ie)==8,dj_quirks:d.isQuirks,dj_iequirks:ie&&d.isQuirks,dj_opera:_216,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_chrome:d.isChrome,dj_gecko:d.isMozilla,dj_ff3:maj(ff)==3};_218["dj_"+_217]=true;var _219="";for(var clz in _218){if(_218[clz]){_219+=clz+" ";}}html.className=d.trim(html.className+" "+_219);dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){var _21a="dj_rtl dijitRtl "+_219.replace(/ /g,"-rtl ");html.className=d.trim(html.className+" "+_21a);}});})();}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_21b,node,_21c,obj,_21d,_21e,_21f){if(obj!=this._obj){this.stop();this._initialDelay=_21e||500;this._subsequentDelay=_21d||0.9;this._minDelay=_21f||10;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_21b,_21c);this._fireEventAndReload();this._evt=dojo.mixin({faux:true},evt);}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_220,_221,_222,_223,_224,_225){if(_220.keyCode){_220.charOrCode=_220.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_220.charCode){_220.charOrCode=String.fromCharCode(_220.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(node,"onkeypress",this,function(evt){if(evt.charOrCode==_220.charOrCode&&(_220.ctrlKey===undefined||_220.ctrlKey==evt.ctrlKey)&&(_220.altKey===undefined||_220.altKey==evt.altKey)&&(_220.metaKey===undefined||_220.metaKey==(evt.metaKey||false))&&(_220.shiftKey===undefined||_220.shiftKey==evt.shiftKey)){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_221,node,_222,_220,_223,_224,_225);}else{if(dijit.typematic._obj==_220){dijit.typematic.stop();}}}),dojo.connect(node,"onkeyup",this,function(evt){if(dijit.typematic._obj==_220){dijit.typematic.stop();}})];},addMouseListener:function(node,_226,_227,_228,_229,_22a){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_226,node,_227,node,_228,_229,_22a);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){evt.preventDefault();}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_226,node,_227,node,_228,_229,_22a);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_22b,_22c,_22d,_22e,_22f,_230,_231,_232){return this.addKeyListener(_22c,_22d,_22e,_22f,_230,_231,_232).concat(this.addMouseListener(_22b,_22e,_22f,_230,_231,_232));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");"}},dojo.body());var cs=dojo.getComputedStyle(div);if(cs){var _233=cs.backgroundImage;var _234=(cs.borderTopColor==cs.borderRightColor)||(_233!=null&&(_233=="none"||_233=="url(invalid-url:)"));dojo[_234?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{_XhtmlRoles:/banner|contentinfo|definition|main|navigation|search|note|secondary|seealso/,hasWaiRole:function(elem,role){var _235=this.getWaiRole(elem);return role?(_235.indexOf(role)>-1):(_235.length>0);},getWaiRole:function(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace(this._XhtmlRoles,"").replace("wairole:",""));},setWaiRole:function(elem,role){var _236=dojo.attr(elem,"role")||"";if(!this._XhtmlRoles.test(_236)){dojo.attr(elem,"role",role);}else{if((" "+_236+" ").indexOf(" "+role+" ")<0){var _237=dojo.trim(_236.replace(this._XhtmlRoles,""));var _238=dojo.trim(_236.replace(_237,""));dojo.attr(elem,"role",_238+(_238?" ":"")+role);}}},removeWaiRole:function(elem,role){var _239=dojo.attr(elem,"role");if(!_239){return;}if(role){var t=dojo.trim((" "+_239+" ").replace(" "+role+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_23a){return elem.hasAttribute?elem.hasAttribute("aria-"+_23a):!!elem.getAttribute("aria-"+_23a);},getWaiState:function(elem,_23b){return elem.getAttribute("aria-"+_23b)||"";},setWaiState:function(elem,_23c,_23d){elem.setAttribute("aria-"+_23c,_23d);},removeWaiState:function(elem,_23e){elem.removeAttribute("aria-"+_23e);}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.require("dijit._base");dojo.connect(dojo,"_connect",function(_23f,_240){if(_23f&&dojo.isFunction(_23f._onConnect)){_23f._onConnect(_240);}});dijit._connectOnUseEventHandler=function(_241){};dijit._lastKeyDownNode=null;if(dojo.isIE){(function(){var _242=function(evt){dijit._lastKeyDownNode=evt.srcElement;};dojo.doc.attachEvent("onkeydown",_242);dojo.addOnWindowUnload(function(){dojo.doc.detachEvent("onkeydown",_242);});})();}else{dojo.doc.addEventListener("keydown",function(evt){dijit._lastKeyDownNode=evt.target;},true);}(function(){var _243={},_244=function(_245){var dc=_245.declaredClass;if(!_243[dc]){var r=[],_246,_247=_245.constructor.prototype;for(var _248 in _247){if(dojo.isFunction(_247[_248])&&(_246=_248.match(/^_set([a-zA-Z]*)Attr$/))&&_246[1]){r.push(_246[1].charAt(0).toLowerCase()+_246[1].substr(1));}}_243[dc]=r;}return _243[dc]||[];};dojo.declare("dijit._Widget",null,{id:"",lang:"",dir:"","class":"",style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")).toString(),postscript:function(_249,_24a){this.create(_249,_24a);},create:function(_24b,_24c){this.srcNodeRef=dojo.byId(_24c);this._connects=[];this._subscribes=[];this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_24b){this.params=_24b;dojo.mixin(this,_24b);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _24d=this.srcNodeRef;if(_24d&&_24d.parentNode){_24d.parentNode.replaceChild(this.domNode,_24d);}for(attr in this.params){this._onConnect(attr);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _24e=function(attr,_24f){if((_24f.params&&attr in _24f.params)||_24f[attr]){_24f.set(attr,_24f[attr]);}};for(var attr in this.attributeMap){_24e(attr,this);}dojo.forEach(_244(this),function(a){if(!(a in this.attributeMap)){_24e(a,this);}},this);},postMixInProperties:function(){},buildRendering:function(){this.domNode=this.srcNodeRef||dojo.create("div");},postCreate:function(){if(this.baseClass){var _250=this.baseClass.split(" ");if(!this.isLeftToRight()){_250=_250.concat(dojo.map(_250,function(name){return name+"Rtl";}));}dojo.addClass(this.domNode,_250);}},startup:function(){this._started=true;},destroyRecursive:function(_251){this._beingDestroyed=true;this.destroyDescendants(_251);this.destroy(_251);},destroy:function(_252){this._beingDestroyed=true;this.uninitialize();var d=dojo,dfe=d.forEach,dun=d.unsubscribe;dfe(this._connects,function(_253){dfe(_253,d.disconnect);});dfe(this._subscribes,function(_254){dun(_254);});dfe(this._supportingWidgets||[],function(w){if(w.destroyRecursive){w.destroyRecursive();}else{if(w.destroy){w.destroy();}}});this.destroyRendering(_252);dijit.registry.remove(this.id);this._destroyed=true;},destroyRendering:function(_255){if(this.bgIframe){this.bgIframe.destroy(_255);delete this.bgIframe;}if(this.domNode){if(_255){dojo.removeAttr(this.domNode,"widgetId");}else{dojo.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_255){dojo.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_256){dojo.forEach(this.getChildren(),function(_257){if(_257.destroyRecursive){_257.destroyRecursive(_256);}});},uninitialize:function(){return false;},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},_onConnect:function(_258){if(_258 in this._deferredConnects){var _259=this[this._deferredConnects[_258]||"domNode"];this.connect(_259,_258.toLowerCase(),_258);delete this._deferredConnects[_258];}},_setClassAttr:function(_25a){var _25b=this[this.attributeMap["class"]||"domNode"];dojo.removeClass(_25b,this["class"]);this["class"]=_25a;dojo.addClass(_25b,_25a);},_setStyleAttr:function(_25c){var _25d=this[this.attributeMap.style||"domNode"];if(dojo.isObject(_25c)){dojo.style(_25d,_25c);}else{if(_25d.style.cssText){_25d.style.cssText+="; "+_25c;}else{_25d.style.cssText=_25c;}}this.style=_25c;},setAttribute:function(attr,_25e){dojo.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_25e);},_attrToDom:function(attr,_25f){var _260=this.attributeMap[attr];dojo.forEach(dojo.isArray(_260)?_260:[_260],function(_261){var _262=this[_261.node||_261||"domNode"];var type=_261.type||"attribute";switch(type){case "attribute":if(dojo.isFunction(_25f)){_25f=dojo.hitch(this,_25f);}var _263=_261.attribute?_261.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);dojo.attr(_262,_263,_25f);break;case "innerText":_262.innerHTML="";_262.appendChild(dojo.doc.createTextNode(_25f));break;case "innerHTML":_262.innerHTML=_25f;break;case "class":dojo.removeClass(_262,this[attr]);dojo.addClass(_262,_25f);break;}},this);this[attr]=_25f;},attr:function(name,_264){if(dojo.config.isDebug){var _265=arguments.callee._ach||(arguments.callee._ach={}),_266=(arguments.callee.caller||"unknown caller").toString();if(!_265[_266]){dojo.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_266,"","2.0");_265[_266]=true;}}var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},get:function(name){var _267=this._getAttrNames(name);return this[_267.g]?this[_267.g]():this[name];},set:function(name,_268){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _269=this._getAttrNames(name);if(this[_269.s]){var _26a=this[_269.s].apply(this,Array.prototype.slice.call(arguments,1));}else{if(name in this.attributeMap){this._attrToDom(name,_268);}var _26b=this[name];this[name]=_268;}return _26a||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){return this.containerNode?dojo.query("[widgetId]",this.containerNode).map(dijit.byNode):[];},getChildren:function(){return this.containerNode?dijit.findWidgets(this.containerNode):[];},nodesWithKeyClick:["input","button"],connect:function(obj,_26c,_26d){var d=dojo,dc=d._connect,_26e=[];if(_26c=="ondijitclick"){if(dojo.indexOf(this.nodesWithKeyClick,obj.nodeName.toLowerCase())==-1){var m=d.hitch(this,_26d);_26e.push(dc(obj,"onkeydown",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=e.target;e.preventDefault();}}),dc(obj,"onkeyup",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&e.target===dijit._lastKeyDownNode&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=null;return m(e);}}));}_26c="onclick";}_26e.push(dc(obj,_26c,this,_26d));this._connects.push(_26e);return _26e;},disconnect:function(_26f){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_26f){dojo.forEach(_26f,dojo.disconnect);this._connects.splice(i,1);return;}}},subscribe:function(_270,_271){var d=dojo,_272=d.subscribe(_270,this,_271);this._subscribes.push(_272);return _272;},unsubscribe:function(_273){for(var i=0;i<this._subscribes.length;i++){if(this._subscribes[i]==_273){dojo.unsubscribe(_273);this._subscribes.splice(i,1);return;}}},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):dojo._isBodyLtr();},isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},placeAt:function(_274,_275){if(_274.declaredClass&&_274.addChild){_274.addChild(this,_275);}else{dojo.place(this.domNode,_274,_275);}return this;},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});})();}if(!dojo._hasResource["dojo.cache"]){dojo._hasResource["dojo.cache"]=true;dojo.provide("dojo.cache");(function(){var _276={};dojo.cache=function(_277,url,_278){if(typeof _277=="string"){var _279=dojo.moduleUrl(_277,url);}else{_279=_277;_278=url;}var key=_279.toString();var val=_278;if(_278!=undefined&&!dojo.isString(_278)){val=("value" in _278?_278.value:undefined);}var _27a=_278&&_278.sanitize?true:false;if(typeof val=="string"){val=_276[key]=_27a?dojo.cache._sanitize(val):val;}else{if(val===null){delete _276[key];}else{if(!(key in _276)){val=dojo._getText(key);_276[key]=_27a?dojo.cache._sanitize(val):val;}val=_276[key];}}return val;};dojo.cache._sanitize=function(val){if(val){val=val.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _27b=val.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_27b){val=_27b[1];}}else{val="";}return val;};})();}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];},_stringRepl:function(tmpl){var _27c=this.declaredClass,_27d=this;return dojo.string.substitute(tmpl,this,function(_27e,key){if(key.charAt(0)=="!"){_27e=dojo.getObject(key.substr(1),false,_27d);}if(typeof _27e=="undefined"){throw new Error(_27c+" template:"+key);}if(_27e==null){return "";}return key.charAt(0)=="!"?_27e:_27e.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _27f=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_27f)){node=dojo._toDom(this._stringRepl(_27f));if(node.nodeType!=1){throw new Error("Invalid template: "+_27f);}}else{node=_27f.cloneNode(true);}this.domNode=node;this._attachTemplateNodes(node);if(this.widgetsInTemplate){var _280=dojo.parser,qry,attr;if(_280._query!="[dojoType]"){qry=_280._query;attr=_280._attrName;_280._query="[dojoType]";_280._attrName="dojoType";}var cw=(this._startupWidgets=dojo.parser.parse(node,{noStart:!this._earlyTemplatedStartup,inherited:{dir:this.dir,lang:this.lang}}));if(qry){_280._query=qry;_280._attrName=attr;}this._supportingWidgets=dijit.findWidgets(node);this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function(_281){var dest=this.containerNode;if(_281&&dest){while(_281.hasChildNodes()){dest.appendChild(_281.firstChild);}}},_attachTemplateNodes:function(_282,_283){_283=_283||function(n,p){return n.getAttribute(p);};var _284=dojo.isArray(_282)?_282:(_282.all||_282.getElementsByTagName("*"));var x=dojo.isArray(_282)?0:-1;for(;x<_284.length;x++){var _285=(x==-1)?_282:_284[x];if(this.widgetsInTemplate&&_283(_285,"dojoType")){continue;}var _286=_283(_285,"dojoAttachPoint");if(_286){var _287,_288=_286.split(/\s*,\s*/);while((_287=_288.shift())){if(dojo.isArray(this[_287])){this[_287].push(_285);}else{this[_287]=_285;}this._attachPoints.push(_287);}}var _289=_283(_285,"dojoAttachEvent");if(_289){var _28a,_28b=_289.split(/\s*,\s*/);var trim=dojo.trim;while((_28a=_28b.shift())){if(_28a){var _28c=null;if(_28a.indexOf(":")!=-1){var _28d=_28a.split(":");_28a=trim(_28d[0]);_28c=trim(_28d[1]);}else{_28a=trim(_28a);}if(!_28c){_28c=_28a;}this.connect(_285,_28a,_28c);}}}var role=_283(_285,"waiRole");if(role){dijit.setWaiRole(_285,role);}var _28e=_283(_285,"waiState");if(_28e){dojo.forEach(_28e.split(/\s*,\s*/),function(_28f){if(_28f.indexOf("-")!=-1){var pair=_28f.split("-");dijit.setWaiState(_285,pair[0],pair[1]);}});}}},startup:function(){dojo.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);},destroyRendering:function(){dojo.forEach(this._attachPoints,function(_290){delete this[_290];},this);this._attachPoints=[];this.inherited(arguments);}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_291,_292,_293){var _294=dijit._Templated._templateCache;var key=_292||_291;var _295=_294[key];if(_295){try{if(!_295.ownerDocument||_295.ownerDocument==dojo.doc){return _295;}}catch(e){}dojo.destroy(_295);}if(!_292){_292=dojo.cache(_291,{sanitize:true});}_292=dojo.string.trim(_292);if(_293||_292.match(/\$\{([^\}]+)\}/g)){return (_294[key]=_292);}else{var node=dojo._toDom(_292);if(node.nodeType!=1){throw new Error("Invalid template: "+_292);}return (_294[key]=node);}};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _296=dijit._Templated._templateCache;for(var key in _296){var _297=_296[key];if(typeof _297=="object"){dojo.destroy(_297);}delete _296[key];}});}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dijit.ProgressBar"]){dojo._hasResource["dijit.ProgressBar"]=true;dojo.provide("dijit.ProgressBar");dojo.declare("dijit.ProgressBar",[dijit._Widget,dijit._Templated],{progress:"0",maximum:100,places:0,indeterminate:false,name:"",templateString:dojo.cache("dijit","templates/ProgressBar.html","<div class=\"dijitProgressBar dijitProgressBarEmpty\"\n\t><div waiRole=\"progressbar\" dojoAttachPoint=\"internalProgress\" class=\"dijitProgressBarFull\"\n\t\t><div class=\"dijitProgressBarTile\"></div\n\t\t><span style=\"visibility:hidden\">&nbsp;</span\n\t></div\n\t><div dojoAttachPoint=\"label\" class=\"dijitProgressBarLabel\" id=\"${id}_label\">&nbsp;</div\n\t><img dojoAttachPoint=\"indeterminateHighContrastImage\" class=\"dijitProgressBarIndeterminateHighContrastImage\" alt=\"\"\n/></div>\n"),_indeterminateHighContrastImagePath:dojo.moduleUrl("dijit","themes/a11y/indeterminate_progress.gif"),postCreate:function(){this.inherited(arguments);this.indeterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath.toString());this.update();},update:function(_298){dojo.mixin(this,_298||{});var tip=this.internalProgress;var _299=1,_29a;if(this.indeterminate){_29a="addClass";dijit.removeWaiState(tip,"valuenow");dijit.removeWaiState(tip,"valuemin");dijit.removeWaiState(tip,"valuemax");}else{_29a="removeClass";if(String(this.progress).indexOf("%")!=-1){_299=Math.min(parseFloat(this.progress)/100,1);this.progress=_299*this.maximum;}else{this.progress=Math.min(this.progress,this.maximum);_299=this.progress/this.maximum;}var text=this.report(_299);this.label.firstChild.nodeValue=text;dijit.setWaiState(tip,"describedby",this.label.id);dijit.setWaiState(tip,"valuenow",this.progress);dijit.setWaiState(tip,"valuemin",0);dijit.setWaiState(tip,"valuemax",this.maximum);}dojo[_29a](this.domNode,"dijitProgressBarIndeterminate");tip.style.width=(_299*100)+"%";this.onChange();},_setValueAttr:function(v){if(v==Infinity){this.update({indeterminate:true});}else{this.update({indeterminate:false,progress:v});}},_getValueAttr:function(){return this.progress;},report:function(_29b){return dojo.number.format(_29b,{type:"percent",places:this.places,locale:this.lang});},onChange:function(){}});}if(!dojo._hasResource["dijit._CssStateMixin"]){dojo._hasResource["dijit._CssStateMixin"]=true;dojo.provide("dijit._CssStateMixin");dojo.declare("dijit._CssStateMixin",[],{cssStateNodes:{},postCreate:function(){this.inherited(arguments);dojo.forEach(["onmouseenter","onmouseleave","onmousedown"],function(e){this.connect(this.domNode,e,"_cssMouseEvent");},this);this.connect(this,"set",function(name,_29c){if(arguments.length>=2&&{disabled:true,readOnly:true,checked:true,selected:true}[name]){this._setStateClass();}});dojo.forEach(["_onFocus","_onBlur"],function(ap){this.connect(this,ap,"_setStateClass");},this);for(var ap in this.cssStateNodes){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._setStateClass();},_cssMouseEvent:function(_29d){if(!this.disabled){switch(_29d.type){case "mouseenter":case "mouseover":this._hovering=true;this._active=this._mouseDown;break;case "mouseleave":case "mouseout":this._hovering=false;this._active=false;break;case "mousedown":this._active=true;this._mouseDown=true;var _29e=this.connect(dojo.body(),"onmouseup",function(){this._active=false;this._mouseDown=false;this._setStateClass();this.disconnect(_29e);});break;}this._setStateClass();}},_setStateClass:function(){var _29f=this.baseClass.split(" ");function _2a0(_2a1){_29f=_29f.concat(dojo.map(_29f,function(c){return c+_2a1;}),"dijit"+_2a1);};if(!this.isLeftToRight()){_2a0("Rtl");}if(this.checked){_2a0("Checked");}if(this.state){_2a0(this.state);}if(this.selected){_2a0("Selected");}if(this.disabled){_2a0("Disabled");}else{if(this.readOnly){_2a0("ReadOnly");}else{if(this._active){_2a0("Active");}else{if(this._hovering){_2a0("Hover");}}}}if(this._focused){_2a0("Focused");}var tn=this.stateNode||this.domNode,_2a2={};dojo.forEach(tn.className.split(" "),function(c){_2a2[c]=true;});if("_stateClasses" in this){dojo.forEach(this._stateClasses,function(c){delete _2a2[c];});}dojo.forEach(_29f,function(c){_2a2[c]=true;});var _2a3=[];for(var c in _2a2){_2a3.push(c);}tn.className=_2a3.join(" ");this._stateClasses=_29f;},_trackMouseState:function(node,_2a4){var _2a5=false,_2a6=false,_2a7=false;var self=this,cn=dojo.hitch(this,"connect",node);function _2a8(){var _2a9=("disabled" in self&&self.disabled)||("readonly" in self&&self.readonly);dojo.toggleClass(node,_2a4+"Hover",_2a5&&!_2a6&&!_2a9);dojo.toggleClass(node,_2a4+"Active",_2a6&&!_2a9);dojo.toggleClass(node,_2a4+"Focused",_2a7&&!_2a9);};cn("onmouseenter",function(){_2a5=true;_2a8();});cn("onmouseleave",function(){_2a5=false;_2a6=false;_2a8();});cn("onmousedown",function(){_2a6=true;_2a8();});cn("onmouseup",function(){_2a6=false;_2a8();});cn("onfocus",function(){_2a7=true;_2a8();});cn("onblur",function(){_2a7=false;_2a8();});this.connect(this,"set",function(name,_2aa){if(name=="disabled"||name=="readOnly"){_2a8();}});}});}if(!dojo._hasResource["dijit.form._FormWidget"]){dojo._hasResource["dijit.form._FormWidget"]=true;dojo.provide("dijit.form._FormWidget");dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated,dijit._CssStateMixin],{name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{value:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode",title:"focusNode"}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name=\""+this.name.replace(/'/g,"&quot;")+"\""):"";this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onmousedown","_onMouseDown");},_setDisabledAttr:function(_2ab){this.disabled=_2ab;dojo.attr(this.focusNode,"disabled",_2ab);if(this.valueNode){dojo.attr(this.valueNode,"disabled",_2ab);}dijit.setWaiState(this.focusNode,"disabled",_2ab);if(_2ab){this._hovering=false;this._active=false;var _2ac="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:"focusNode";dojo.forEach(dojo.isArray(_2ac)?_2ac:[_2ac],function(_2ad){var node=this[_2ad];if(dojo.isWebKit||dijit.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{this.focusNode.setAttribute("tabIndex",this.tabIndex);}},setDisabled:function(_2ae){dojo.deprecated("setDisabled("+_2ae+") is deprecated. Use set('disabled',"+_2ae+") instead.","","2.0");this.set("disabled",_2ae);},_onFocus:function(e){if(this.scrollOnFocus){dojo.window.scrollIntoView(this.domNode);}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&!this.readOnly&&this.focusNode&&(dojo.style(this.domNode,"display")!="none");},focus:function(){dijit.focus(this.focusNode);},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(_2af){},_onChangeActive:false,_handleOnChange:function(_2b0,_2b1){this._lastValue=_2b0;if(this._lastValueReported==undefined&&(_2b1===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_2b0;}if((this.intermediateChanges||_2b1||_2b1===undefined)&&((typeof _2b0!=typeof this._lastValueReported)||this.compare(_2b0,this._lastValueReported)!=0)){this._lastValueReported=_2b0;if(this._onChangeActive){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);}this._onChangeHandle=setTimeout(dojo.hitch(this,function(){this._onChangeHandle=null;this.onChange(_2b0);}),0);}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);this.onChange(this._lastValueReported);}this.inherited(arguments);},setValue:function(_2b2){dojo.deprecated("dijit.form._FormWidget:setValue("+_2b2+") is deprecated.  Use set('value',"+_2b2+") instead.","","2.0");this.set("value",_2b2);},getValue:function(){dojo.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_onMouseDown:function(e){if(!e.ctrlKey&&this.isFocusable()){var _2b3=this.connect(dojo.body(),"onmouseup",function(){if(this.isFocusable()){this.focus();}this.disconnect(_2b3);});}}});dojo.declare("dijit.form._FormValueWidget",dijit.form._FormWidget,{readOnly:false,attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:"",readOnly:"focusNode"}),_setReadOnlyAttr:function(_2b4){this.readOnly=_2b4;dojo.attr(this.focusNode,"readOnly",_2b4);dijit.setWaiState(this.focusNode,"readonly",_2b4);},postCreate:function(){this.inherited(arguments);if(dojo.isIE){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._resetValue=this.value;}},_setValueAttr:function(_2b5,_2b6){this.value=_2b5;this._handleOnChange(_2b5,_2b6);},_getValueAttr:function(){return this._lastValue;},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==dojo.keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){var te;if(dojo.isIE){e.preventDefault();te=document.createEventObject();te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}}},_layoutHackIE7:function(){if(dojo.isIE==7){var _2b7=this.domNode;var _2b8=_2b7.parentNode;var _2b9=_2b7.firstChild||_2b7;var _2ba=_2b9.style.filter;var _2bb=this;while(_2b8&&_2b8.clientHeight==0){(function ping(){var _2bc=_2bb.connect(_2b8,"onscroll",function(e){_2bb.disconnect(_2bc);_2b9.style.filter=(new Date()).getMilliseconds();setTimeout(function(){_2b9.style.filter=_2ba;},0);});})();_2b8=_2b8.parentNode;}}}});}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_2bd,_2be){var _2bf=this.containerNode;if(_2be&&typeof _2be=="number"){var _2c0=this.getChildren();if(_2c0&&_2c0.length>=_2be){_2bf=_2c0[_2be-1].domNode;_2be="after";}}dojo.place(_2bd.domNode,_2bf,_2be);if(this._started&&!_2bd._started){_2bd.startup();}},removeChild:function(_2c1){if(typeof _2c1=="number"&&_2c1>0){_2c1=this.getChildren()[_2c1];}if(_2c1){var node=_2c1.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},destroyDescendants:function(_2c2){dojo.forEach(this.getChildren(),function(_2c3){_2c3.destroyRecursive(_2c2);});},_getSiblingOfChild:function(_2c4,dir){var node=_2c4.domNode,_2c5=(dir>0?"nextSibling":"previousSibling");do{node=node[_2c5];}while(node&&(node.nodeType!=1||!dijit.byNode(node)));return node&&dijit.byNode(node);},getIndexOfChild:function(_2c6){return dojo.indexOf(this.getChildren(),_2c6);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_2c7){_2c7.startup();});this.inherited(arguments);}});}if(!dojo._hasResource["dijit._HasDropDown"]){dojo._hasResource["dijit._HasDropDown"]=true;dojo.provide("dijit._HasDropDown");dojo.declare("dijit._HasDropDown",null,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}this._docHandler=this.connect(dojo.doc,"onmouseup","_onDropDownMouseUp");this.toggleDropDown();},_onDropDownMouseUp:function(e){if(e&&this._docHandler){this.disconnect(this._docHandler);}var _2c8=this.dropDown,_2c9=false;if(e&&this._opened){var c=dojo.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_2c9){if(dojo.hasClass(t,"dijitPopup")){_2c9=true;}else{t=t.parentNode;}}if(_2c9){t=e.target;if(_2c8.onItemClick){var _2ca;while(t&&!(_2ca=dijit.byNode(t))){t=t.parentNode;}if(_2ca&&_2ca.onClick&&_2ca.getParent){_2ca.getParent().onItemClick(_2ca,e);}}return;}}}if(this._opened&&_2c8.focus){window.setTimeout(dojo.hitch(_2c8,"focus"),1);}},_onDropDownClick:function(e){if(this._stopClickEvents){dojo.stopEvent(e);}},_setupDropdown:function(){this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;this._aroundNode=this._aroundNode||this.domNode;this.connect(this._buttonNode,"onmousedown","_onDropDownMouseDown");this.connect(this._buttonNode,"onclick","_onDropDownClick");this.connect(this._buttonNode,"onkeydown","_onDropDownKeydown");this.connect(this._buttonNode,"onkeyup","_onKey");if(this._setStateClass){this.connect(this,"openDropDown","_setStateClass");this.connect(this,"closeDropDown","_setStateClass");}var _2cb={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";dojo.addClass(this._arrowWrapperNode||this._buttonNode,"dijit"+_2cb+"ArrowButton");},postCreate:function(){this._setupDropdown();this.inherited(arguments);},destroyDescendants:function(){if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onDropDownKeydown:function(e){if(e.keyCode==dojo.keys.DOWN_ARROW||e.keyCode==dojo.keys.ENTER||e.keyCode==dojo.keys.SPACE){e.preventDefault();}},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){return;}}if(d&&this._opened&&e.keyCode==dojo.keys.ESCAPE){this.toggleDropDown();}else{if(d&&!this._opened&&(e.keyCode==dojo.keys.DOWN_ARROW||e.keyCode==dojo.keys.ENTER||e.keyCode==dojo.keys.SPACE)){this.toggleDropDown();if(d.focus){setTimeout(dojo.hitch(d,"focus"),1);}}}},_onBlur:function(){this.closeDropDown();this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_2cc){_2cc();},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}this.focus();var _2cd=this.dropDown;if(!_2cd){return;}if(!this._opened){if(!this.isLoaded()){this.loadDropDown(dojo.hitch(this,"openDropDown"));return;}else{this.openDropDown();}}else{this.closeDropDown();}},openDropDown:function(){var _2ce=this.dropDown;var _2cf=_2ce.domNode;var self=this;if(!this._preparedNode){dijit.popup.moveOffScreen(_2cf);this._preparedNode=true;if(_2cf.style.width){this._explicitDDWidth=true;}if(_2cf.style.height){this._explicitDDHeight=true;}}if(this.maxHeight||this.forceWidth||this.autoWidth){var _2d0={display:"",visibility:"hidden"};if(!this._explicitDDWidth){_2d0.width="";}if(!this._explicitDDHeight){_2d0.height="";}dojo.style(_2cf,_2d0);var mb=dojo.marginBox(_2cf);var _2d1=(this.maxHeight&&mb.h>this.maxHeight);dojo.style(_2cf,{overflowX:"hidden",overflowY:_2d1?"auto":"hidden"});if(_2d1){mb.h=this.maxHeight;if("w" in mb){mb.w+=16;}}else{delete mb.h;}delete mb.t;delete mb.l;if(this.forceWidth){mb.w=this.domNode.offsetWidth;}else{if(this.autoWidth){mb.w=Math.max(mb.w,this.domNode.offsetWidth);}else{delete mb.w;}}if(dojo.isFunction(_2ce.resize)){_2ce.resize(mb);}else{dojo.marginBox(_2cf,mb);}}var _2d2=dijit.popup.open({parent:this,popup:_2ce,around:this._aroundNode,orient:dijit.getPopupAroundAlignment((this.dropDownPosition&&this.dropDownPosition.length)?this.dropDownPosition:["below"],this.isLeftToRight()),onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){dojo.attr(self._popupStateNode,"popupActive",false);dojo.removeClass(self._popupStateNode,"dijitHasDropDownOpen");self._opened=false;self.state="";}});dojo.attr(this._popupStateNode,"popupActive","true");dojo.addClass(self._popupStateNode,"dijitHasDropDownOpen");this._opened=true;this.state="Opened";return _2d2;},closeDropDown:function(_2d3){if(this._opened){if(_2d3){this.focus();}dijit.popup.close(this.dropDown);this._opened=false;this.state="";}}});}if(!dojo._hasResource["dijit.form.Button"]){dojo._hasResource["dijit.form.Button"]=true;dojo.provide("dijit.form.Button");dojo.declare("dijit.form.Button",dijit.form._FormWidget,{label:"",showLabel:true,iconClass:"",type:"button",baseClass:"dijitButton",templateString:dojo.cache("dijit.form","templates/Button.html","<span class=\"dijit dijitReset dijitInline\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode,focusNode\"\n\t\t\twaiRole=\"button\" waiState=\"labelledby-${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdojoAttachPoint=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\tdojoAttachPoint=\"valueNode\"\n/></span>\n"),attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:"valueNode",iconClass:{node:"iconNode",type:"class"}}),_onClick:function(e){if(this.disabled){return false;}this._clicked();return this.onClick(e);},_onButtonClick:function(e){if(this._onClick(e)===false){e.preventDefault();}else{if(this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _2d4=dijit.byNode(node);if(_2d4&&typeof _2d4._onSubmit=="function"){_2d4._onSubmit(e);break;}}}else{if(this.valueNode){this.valueNode.click();e.preventDefault();}}}},_fillContent:function(_2d5){if(_2d5&&(!this.params||!("label" in this.params))){this.set("label",_2d5.innerHTML);}},postCreate:function(){dojo.setSelectable(this.focusNode,false);this.inherited(arguments);},_setShowLabelAttr:function(val){if(this.containerNode){dojo.toggleClass(this.containerNode,"dijitDisplayNone",!val);}this.showLabel=val;},onClick:function(e){return true;},_clicked:function(e){},setLabel:function(_2d6){dojo.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_2d6);},_setLabelAttr:function(_2d7){this.containerNode.innerHTML=this.label=_2d7;if(this.showLabel==false&&!this.params.title){this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});dojo.declare("dijit.form.DropDownButton",[dijit.form.Button,dijit._Container,dijit._HasDropDown],{baseClass:"dijitDropDownButton",templateString:dojo.cache("dijit.form","templates/DropDownButton.html","<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick\" dojoAttachPoint=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"focusNode,titleNode,_arrowWrapperNode\"\n\t\t\twaiRole=\"button\" waiState=\"haspopup-true,labelledby-${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdojoAttachPoint=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdojoAttachPoint=\"containerNode,_popupStateNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\tdojoAttachPoint=\"valueNode\"\n/></span>\n"),_fillContent:function(){if(this.srcNodeRef){var _2d8=dojo.query("*",this.srcNodeRef);dijit.form.DropDownButton.superclass._fillContent.call(this,_2d8[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown){var _2d9=dojo.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=dijit.byNode(_2d9);delete this.dropDownContainer;}dijit.popup.moveOffScreen(this.dropDown.domNode);this.inherited(arguments);},isLoaded:function(){var _2da=this.dropDown;return (!_2da.href||_2da.isLoaded);},loadDropDown:function(){var _2db=this.dropDown;if(!_2db){return;}if(!this.isLoaded()){var _2dc=dojo.connect(_2db,"onLoad",this,function(){dojo.disconnect(_2dc);this.openDropDown();});_2db.refresh();}else{this.openDropDown();}},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});dojo.declare("dijit.form.ComboButton",dijit.form.DropDownButton,{templateString:dojo.cache("dijit.form","templates/ComboButton.html","<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' waiRole=\"presentation\"\n\t><tbody waiRole=\"presentation\"><tr waiRole=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" dojoAttachPoint=\"buttonNode\" dojoAttachEvent=\"ondijitclick:_onButtonClick,onkeypress:_onButtonKeyPress\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode\"\n\t\t\twaiRole=\"button\" waiState=\"labelledby-${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\" waiRole=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" dojoAttachPoint=\"containerNode\" waiRole=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdojoAttachPoint=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdojoAttachEvent=\"onkeypress:_onArrowKeyPress\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\twaiRole=\"button\" waiState=\"haspopup-true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" waiRole=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" waiRole=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" dojoAttachPoint=\"valueNode\"\n\t\t/></td></tr></tbody\n></table>\n"),attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{id:"",tabIndex:["focusNode","titleNode"],title:"titleNode"}),optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyPress:function(evt){if(evt.charOrCode==dojo.keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){dijit.focus(this._popupStateNode);dojo.stopEvent(evt);}},_onArrowKeyPress:function(evt){if(evt.charOrCode==dojo.keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){dijit.focus(this.titleNode);dojo.stopEvent(evt);}},focus:function(_2dd){dijit.focus(_2dd=="start"?this.titleNode:this._popupStateNode);}});dojo.declare("dijit.form.ToggleButton",dijit.form.Button,{baseClass:"dijitToggleButton",checked:false,attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{checked:"focusNode"}),_clicked:function(evt){this.set("checked",!this.checked);},_setCheckedAttr:function(_2de,_2df){this.checked=_2de;dojo.attr(this.focusNode||this.domNode,"checked",_2de);dijit.setWaiState(this.focusNode||this.domNode,"pressed",_2de);this._handleOnChange(_2de,_2df);},setChecked:function(_2e0){dojo.deprecated("setChecked("+_2e0+") is deprecated. Use set('checked',"+_2e0+") instead.","","2.0");this.set("checked",_2e0);},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});}if(!dojo._hasResource["dijit.form.ToggleButton"]){dojo._hasResource["dijit.form.ToggleButton"]=true;dojo.provide("dijit.form.ToggleButton");}if(!dojo._hasResource["dijit.form.CheckBox"]){dojo._hasResource["dijit.form.CheckBox"]=true;dojo.provide("dijit.form.CheckBox");dojo.declare("dijit.form.CheckBox",dijit.form.ToggleButton,{templateString:dojo.cache("dijit.form","templates/CheckBox.html","<div class=\"dijit dijitReset dijitInline\" waiRole=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdojoAttachPoint=\"focusNode\"\n\t \tdojoAttachEvent=\"onclick:_onClick\"\n/></div>\n"),baseClass:"dijitCheckBox",type:"checkbox",value:"on",readOnly:false,attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{readOnly:"focusNode"}),_setReadOnlyAttr:function(_2e1){this.readOnly=_2e1;dojo.attr(this.focusNode,"readOnly",_2e1);dijit.setWaiState(this.focusNode,"readonly",_2e1);},_setValueAttr:function(_2e2,_2e3){if(typeof _2e2=="string"){this.value=_2e2;dojo.attr(this.focusNode,"value",_2e2);_2e2=true;}if(this._created){this.set("checked",_2e2,_2e3);}},_getValueAttr:function(){return (this.checked?this.value:false);},_setLabelAttr:undefined,postMixInProperties:function(){if(this.value==""){this.value="on";}this.checkedAttrSetting=this.checked?"checked":"";this.inherited(arguments);},_fillContent:function(_2e4){},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);this.value=this.params.value||"on";dojo.attr(this.focusNode,"value",this.value);},_onFocus:function(){if(this.id){dojo.query("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}this.inherited(arguments);},_onBlur:function(){if(this.id){dojo.query("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}this.inherited(arguments);},_onClick:function(e){if(this.readOnly){return false;}return this.inherited(arguments);}});dojo.declare("dijit.form.RadioButton",dijit.form.CheckBox,{type:"radio",baseClass:"dijitRadio",_setCheckedAttr:function(_2e5){this.inherited(arguments);if(!this._created){return;}if(_2e5){var _2e6=this;dojo.query("INPUT[type=radio]",this.focusNode.form||dojo.doc).forEach(function(_2e7){if(_2e7.name==_2e6.name&&_2e7!=_2e6.focusNode&&_2e7.form==_2e6.focusNode.form){var _2e8=dijit.getEnclosingWidget(_2e7);if(_2e8&&_2e8.checked){_2e8.set("checked",false);}}});}},_clicked:function(e){if(!this.checked){this.set("checked",true);}}});}if(!dojo._hasResource["multiplefileuploader.widget.UploadInputPane"]){dojo._hasResource["multiplefileuploader.widget.UploadInputPane"]=true;dojo.provide("multiplefileuploader.widget.UploadInputPane");dojo.declare("multiplefileuploader.widget.UploadInputPane",[dijit._Widget,dijit._Templated],{templateString:dojo.cache("multiplefileuploader.widget","UploadInputPane.html","<span dojoAttachPoint=\"unitInput\">\n\t<div class=\"dijitFileInput\">\n\t\t<input dojoAttachPoint=\"inputFile\" type=\"file\" class=\"dijitFileInputReal\" name=\"fileData\"></input>\n\t\t<div class=\"dijitFakeInput\">\n\t\t\t<input dojoAttachPoint=\"fakeInputFile\" class=\"dijitFileInputVisible\" type=\"text\">\n\t\t\t<div class=\"dijitInline dijitFileInputText\" dojoattachpoint=\"titleNode\">${i18n.browse}</div>\n\t\t\t<a href=\"#\" dojoAttachPoint=\"deleteLink\">${i18n.deleteFile}</a>\n\t\t</div>\n\t</div>\n</span> \n"),postMixInProperties:function(){this.i18n=dojo.i18n.getLocalization("multiplefileuploader","messages");this.inherited(arguments);},postCreate:function(_2e9){this._eventHandles=new Array([]);this._registerEvents();this._setupUI();},hide:function(){dojo.style(this.unitInput,{display:"none"});},_hideDeleteLink:function(){dojo.style(this.deleteLink,{display:"none"});},_showDeleteLink:function(){dojo.style(this.deleteLink,{display:"inline"});},_registerEvents:function(){this._registerFileInput();this._registerDeleteLink();},_registerFileInput:function(){var _2ea=dojo.connect(this.inputFile,"onchange",dojo.hitch(this,function(e){dojo.stopEvent(e);this._onFileInputChange();}));this._eventHandles.push(_2ea);},_registerDeleteLink:function(){var _2eb=dojo.connect(this.deleteLink,"onclick",dojo.hitch(this,function(e){dojo.stopEvent(e);this._onClickDeleteLink();}));this._eventHandles.push(_2eb);},_unregisterEvents:function(){dojo.forEach(this._eventHandles,function(_2ec){dojo.disconnect(_2ec);});this._eventHandles=new Array([]);},_onClickDeleteLink:function(){this.unit.requestDeletion();},_onFileInputChange:function(){var _2ed=this.uploadPaneFactory.createFileUploadRequest({unit:this.unit});this.notifyLastFileInputChanged(_2ed);},notifyLastFileInputChanged:function(_2ee){this._addToUploadQueue(_2ee);},_addToUploadQueue:function(_2ef){dojo.hitch(_2ef,(_2ef.setUnit||function(){}))(this.unit);this.uploadManager.addToUploadQueue(_2ef);},getSelectedFilename:function(){return this.inputFile.value;},getFileInput:function(){return this.inputFile;},_setupUI:function(){dojo.attr(this.inputFile,"style",{width:this.config_UI.inputWidth+this.config_UI.inputAdditionalWidth+this.config_UI.inputWidthUnit});dojo.attr(this.fakeInputFile,"style",{width:this.config_UI.inputWidth+this.config_UI.inputWidthUnit});},destroy:function(){this._unregisterEvents();this.inherited("destroy",arguments);}});}if(!dojo._hasResource["multiplefileuploader.widget.UploadProgressPane"]){dojo._hasResource["multiplefileuploader.widget.UploadProgressPane"]=true;dojo.provide("multiplefileuploader.widget.UploadProgressPane");dojo.declare("multiplefileuploader.widget.UploadProgressPane",[dijit._Widget,dijit._Templated],{templateString:dojo.cache("multiplefileuploader.widget","UploadProgressPane.html","<div dojoAttachPoint=\"progressBarContainer\">\n\t<div dojoAttachPoint=\"progressBarTmp\"></div>\n\t<span dojoAttachPoint=\"checkboxTmp\"></span>\n\t<span dojoAttachPoint=\"filenameTmp\"></span>\n\t<div style=\"clear:left\"></div>\n</div>\n"),postCreate:function(_2f0){this._populateUploadStatusContainer();this._makeUploadStatusContainerVisible();},hide:function(){dojo.style(this.progressBarContainer,{display:"none"});},_populateUploadStatusContainer:function(){this._populateProgressBarTmp();this._populateCheckboxTmp();this._populateFilenameTmp();},_isIndeterminate:function(){return (this.config_status.progressBarMode)?false:true;},_populateProgressBarTmp:function(){this._progressBarTmp=new dijit.ProgressBar({indeterminate:this._isIndeterminate(),style:"width: "+this.config_UI.progressBarWidth+";"+"height: "+this.config_UI.progressBarHeight+";"+"float: left;"},this.progressBarTmp);},_populateCheckboxTmp:function(){new dijit.form.CheckBox({checked:true,disabled:true},this.checkboxTmp);},_populateFilenameTmp:function(){dojo.place(document.createTextNode(this._getCurrentFilename()),this.filenameTmp);},_makeUploadStatusContainerVisible:function(){dojo.style(this.progressBarContainer,{display:"block"});},_getCurrentFilename:function(){return this.unit.getSelectedFilename();},updateProgressBar:function(_2f1){this._progressBarTmp.update({"maximum":_2f1.getTotalSize(),"progress":_2f1.getUploadedSize()});},destroy:function(){this.inherited("destroy",arguments);}});}if(!dojo._hasResource["dijit.Tooltip"]){dojo._hasResource["dijit.Tooltip"]=true;dojo.provide("dijit.Tooltip");dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:dijit.defaultDuration,templateString:dojo.cache("dijit","templates/Tooltip.html","<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\">\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"containerNode\" waiRole='alert'></div>\n\t<div class=\"dijitTooltipConnector\"></div>\n</div>\n"),postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")});this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")});},show:function(_2f2,_2f3,_2f4,rtl){if(this.aroundNode&&this.aroundNode===_2f3){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_2f2;var pos=dijit.placeOnScreenAroundElement(this.domNode,_2f3,dijit.getPopupAroundAlignment((_2f4&&_2f4.length)?_2f4:dijit.Tooltip.defaultPosition,!rtl),dojo.hitch(this,"orient"));dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_2f3;},orient:function(node,_2f5,_2f6){node.className="dijitTooltip "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_2f5+"-"+_2f6];},_onShow:function(){if(dojo.isIE){this.domNode.style.filter="";}},hide:function(_2f7){if(this._onDeck&&this._onDeck[1]==_2f7){this._onDeck=null;}else{if(this.aroundNode===_2f7){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});dijit.showTooltip=function(_2f8,_2f9,_2fa,rtl){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.show(_2f8,_2f9,_2fa,rtl);};dijit.hideTooltip=function(_2fb){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.hide(_2fb);};dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:[],position:[],constructor:function(){this._nodeConnectionsById={};},_setConnectIdAttr:function(_2fc){for(var _2fd in this._nodeConnectionsById){this.removeTarget(_2fd);}dojo.forEach(dojo.isArrayLike(_2fc)?_2fc:[_2fc],this.addTarget,this);},_getConnectIdAttr:function(){var ary=[];for(var id in this._nodeConnectionsById){ary.push(id);}return ary;},addTarget:function(id){var node=dojo.byId(id);if(!node){return;}if(node.id in this._nodeConnectionsById){return;}this._nodeConnectionsById[node.id]=[this.connect(node,"onmouseenter","_onTargetMouseEnter"),this.connect(node,"onmouseleave","_onTargetMouseLeave"),this.connect(node,"onfocus","_onTargetFocus"),this.connect(node,"onblur","_onTargetBlur")];},removeTarget:function(node){var id=node.id||node;if(id in this._nodeConnectionsById){dojo.forEach(this._nodeConnectionsById[id],this.disconnect,this);delete this._nodeConnectionsById[id];}},postCreate:function(){dojo.addClass(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;dojo.forEach(dojo.isArrayLike(ids)?ids:[ids],this.addTarget,this);},_onTargetMouseEnter:function(e){this._onHover(e);},_onTargetMouseLeave:function(e){this._onUnHover(e);},_onTargetFocus:function(e){this._focus=true;this._onHover(e);},_onTargetBlur:function(e){this._focus=false;this._onUnHover(e);},_onHover:function(e){if(!this._showTimer){var _2fe=e.target;this._showTimer=setTimeout(dojo.hitch(this,function(){this.open(_2fe);}),this.showDelay);}},_onUnHover:function(e){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}this.close();},open:function(_2ff){if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}dijit.showTooltip(this.label||this.domNode.innerHTML,_2ff,this.position,!this.isLeftToRight());this._connectNode=_2ff;this.onShow(_2ff,this.position);},close:function(){if(this._connectNode){dijit.hideTooltip(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}},onShow:function(_300,_301){},onHide:function(){},uninitialize:function(){this.close();this.inherited(arguments);}});dijit.Tooltip.defaultPosition=["after","before"];}if(!dojo._hasResource["multiplefileuploader.widget.UploadResultPane"]){dojo._hasResource["multiplefileuploader.widget.UploadResultPane"]=true;dojo.provide("multiplefileuploader.widget.UploadResultPane");multiplefileuploader.widget.REMOVE_UNIT_DURATION=5000;multiplefileuploader.widget.FADE_OUT_DURATION=500;dojo.declare("multiplefileuploader.widget.UploadResultPane",[dijit._Widget,dijit._Templated],{templateString:dojo.cache("multiplefileuploader.widget","UploadResultPane.html","<div>\n\t\n\n<div dojoAttachPoint=\"thumb\"></div>\n\t\n<div dojoAttachPoint=\"uploadedImageInformationContainer\">\n\n\t<span dojoAttachPoint=\"cancelUploadCheckbox\"></span>\n\t<strong><span dojoAttachPoint=\"uploadedFilename\"></span></strong>\n\t<i>(<span dojoAttachPoint=\"mimetype\"></span>)</i>\n\t(<span dojoAttachPoint=\"size\"></span>)\n\t<input dojoAttachPoint=\"uploadedFileID\" type=\"hidden\"></input>\n</div>\t\n\n</div>\n"),postCreate:function(_302){this._eventHandles=new Array([]);this._displayCancelCheckbox();this._displayUploadedFilename();this._displayMimetype();this._displaySize();this._displayUploadedFileID();if(this.uploadedImageInformation.getThumbURL()!=null){this._displayThumb();}},hide:function(){dojo.style(this.uploadedImageInformationContainer,{display:"none"});},_displayThumb:function(){new dijit.Tooltip({label:"<img src="+this.uploadedImageInformation.getThumbURL()+"/>",connectId:[this.uploadedFilename],showDelay:this.config_UI.showDelay,position:["below"]});},_displayCancelCheckbox:function(){var cb=new dijit.form.CheckBox({checked:true,disabled:false},this.cancelUploadCheckbox);dojo.connect(cb,"onClick",dojo.hitch(this,function(){this._deleteFilenameIfNeeded(cb);}));this._eventHandles.push(cb);},_displayUploadedFilename:function(){dojo.place(document.createTextNode(this.uploadedImageInformation.getName()),this.uploadedFilename);},_displayMimetype:function(){dojo.place(document.createTextNode(this.uploadedImageInformation.getMimeType()),this.mimetype);},_displaySize:function(){dojo.place(document.createTextNode(this.uploadedImageInformation.getSize()),this.size);},_displayUploadedFileID:function(){dojo.attr(this.uploadedFileID,"id",this.uploadValuePrefix+this.uploadedImageInformation.getID());},_deleteFilenameIfNeeded:function(cb){if(cb.checked){this.uploadedFileID.removeAttribute("disabled");}else{dojo.attr(this.uploadedFileID,"disabled","");}setTimeout(dojo.hitch(this,function(){if(!cb.checked){dojo.fadeOut({node:this.uploadedImageInformationContainer,duration:multiplefileuploader.widget.FADE_OUT_DURATION,onEnd:dojo.hitch(this,function(){this.unit.requestDeletion();})}).play();}}),multiplefileuploader.widget.REMOVE_UNIT_DURATION);},destroy:function(){dojo.forEach(this._eventHandles,function(_303){dojo.disconnect(_303);});this.inherited("destroy",arguments);}});}if(!dojo._hasResource["multiplefileuploader.widget.UploadErrorPane"]){dojo._hasResource["multiplefileuploader.widget.UploadErrorPane"]=true;dojo.provide("multiplefileuploader.widget.UploadErrorPane");dojo.declare("multiplefileuploader.widget.UploadErrorPane",[dijit._Widget,dijit._Templated],{templateString:dojo.cache("multiplefileuploader.widget","UploadErrorPane.html","<div dojoAttachPoint=\"errorPaneContainer\">\n\t<span style=\"color: red; font-weight: bold;\" dojoAttachPoint=\"errorText\"></span>\n</div>\t\n"),postMixInProperties:function(){this.i18n=dojo.i18n.getLocalization("multiplefileuploader","messages");this.inherited(arguments);},postCreate:function(_304){this._displayError();},hide:function(){dojo.style(this.errorPaneContainer,{display:"none"});},_displayError:function(){dojo.place(document.createTextNode(dojo.getObject(this.errorCode,false,this.i18n)),this.errorText);},destroy:function(){this.inherited("destroy",arguments);}});}if(!dojo._hasResource["multiplefileuploader.widget.UploadUnit"]){dojo._hasResource["multiplefileuploader.widget.UploadUnit"]=true;dojo.provide("multiplefileuploader.widget.UploadUnit");dojo.declare("multiplefileuploader.widget.UploadUnit",null,{constructor:function(_305,_306){dojo.mixin(this,_305);this._currentID=null;this._uploadInputPane=null;this._uploadProgressPane=null;this._uploadResultPane=null;this._uploadErrorPane=null;this._paneContainer=document.createElement("div");dojo.place(this._paneContainer,_306);this._uploadPaneFactory=new multiplefileuploader.widget._UploadPaneFactory(this,this._paneContainer,_306,this.uploadManager,this.config_UI,this.config_status);this._errorCategorizer=new multiplefileuploader.widget.ErrorCategorizer();this.createInputPane();},createInputPane:function(){this._uploadInputPane=this._uploadPaneFactory.inputPane();},createProgressPane:function(){this._hideAllPanes();this._uploadProgressPane=this._uploadPaneFactory.progressPane();},createResultPane:function(_307,_308){this._hideAllPanes();this._uploadResultPane=this._uploadPaneFactory.resultPane(_307,_308);},createErrorPane:function(_309,_30a){this._hideAllPanes();this._uploadErrorPane=this._uploadPaneFactory.errorPane(_309,_30a);},getSelectedFilename:function(){return this._uploadInputPane.getSelectedFilename();},getFileInput:function(){return this._uploadInputPane.getFileInput();},getFilename:function(){return this.getFileInput().value;},requestDeletion:function(){this.onUploadUnitDeletion(this);},updateProgressBar:function(_30b){this._uploadProgressPane.updateProgressBar(_30b);},setAssociatedID:function(_30c){this._currentID=_30c;},getAssociatedID:function(){return this._currentID;},notifyLastFileInputChanged:function(_30d){this._uploadInputPane.notifyLastFileInputChanged(_30d);},hideDeleteLink:function(){return this._uploadInputPane._hideDeleteLink();},showDeleteLink:function(){return this._uploadInputPane._showDeleteLink();},notifyRecoverableFailure:function(_30e,_30f){this.createErrorPane(_30e,_30f);if(this._errorCategorizer.getErrorType(_30f)==multiplefileuploader.widget.errorType.ERROR_TYPE_RECOVERABLE){this.onUnitFailureRecoverable();}},_hideAllPanes:function(){dojo.forEach([this._uploadInputPane,this._uploadProgressPane,this._uploadResultPane,this._uploadErrorPane],function(_310){if(_310!=null){_310.hide();}});},destroy:function(){dojo.forEach([this._uploadInputPane,this._uploadProgressPane,this._uploadResultPane,this._uploadErrorPane],function(_311){if(_311!=null){_311.destroy();}});}});dojo.declare("multiplefileuploader.widget._UploadPaneFactory",null,{constructor:function(unit,_312,_313,_314,_315,_316){this._config_status=_316;this._config_UI=_315;this._unit=unit;this._attachLinkContainer=_313;this._paneContainer=_312;this._uploadManager=_314;},inputPane:function(){var _317=document.createElement("div");dojo.place(_317,this._paneContainer);var _318={config_UI:this._config_UI,unit:this._unit,uploadManager:this._uploadManager,uploadPaneFactory:this};return new multiplefileuploader.widget.UploadInputPane(_318,_317);},progressPane:function(){var _319=document.createElement("div");dojo.place(_319,this._paneContainer);var _31a={config_status:this._config_status,config_UI:this._config_UI,unit:this._unit};return new multiplefileuploader.widget.UploadProgressPane(_31a,_319);},resultPane:function(_31b,_31c){var _31d=document.createElement("div");dojo.place(_31d,this._paneContainer);var _31e={config_UI:this._config_UI,unit:this._unit,uploadPaneFactory:this,uploadedImageInformation:_31b,uploadValuePrefix:_31c};return new multiplefileuploader.widget.UploadResultPane(_31e,_31d);},errorPane:function(_31f,_320){var _321=document.createElement("div");dojo.place(_321,this._paneContainer);var _322={config_UI:this._config_UI,response:_31f,errorCode:_320,unit:this._unit};return new multiplefileuploader.widget.UploadErrorPane(_322,_321);},createFileUploadRequest:function(_323){var _324={};dojo.mixin(_324,_323);dojo.mixin(_324,{uploadPaneFactory:this});return new multiplefileuploader.widget._FileUploadRequest(_324,this._unit);}});dojo.declare("multiplefileuploader.widget._FileUploadRequest",multiplefileuploader.widget.FileUploadRequestMixin,{constructor:function(_325,unit){this._unit=unit;dojo.mixin(this,_325);},_doOnBeforeUploadStart:function(){},_doOnAfterUploadStart:function(){},_doOnUploadSuccess:function(_326,_327){this._unit.createResultPane(_326,_327);},_doOnUploadFailure:function(_328,_329){this._unit.notifyRecoverableFailure(_328,_329);},_doOnRetry:function(){this._unit.createProgressPane();},_doOnUploadRequestEnqueued:function(){this._unit.createProgressPane();},_doGetUploadingFilename:function(){return this._unit.getFilename();},_doGetFileInput:function(){return this._unit.getFileInput();},_doSetAssociatedID:function(_32a){return this._unit.setAssociatedID(_32a);},_doGetAssociatedID:function(){return this._unit.getAssociatedID();},_doOnStatusSuccess:function(_32b){this._unit.updateProgressBar(_32b);},_doOnStatusError:function(_32c){this._unit.updateProgressBar();}});}if(!dojo._hasResource["multiplefileuploader.widget.UploadActions"]){dojo._hasResource["multiplefileuploader.widget.UploadActions"]=true;dojo.provide("multiplefileuploader.widget.UploadActions");dojo.declare("multiplefileuploader.widget.UploadActions",[dijit._Widget,dijit._Templated],{templateString:dojo.cache("multiplefileuploader.widget","UploadActions.html","<div dojoAttachPoint=\"attachAnotherFileLink\">\t\n\t<a href=\"#\">${i18n.attachAnotherFile}</a><a style=\"display:none; margin: 5px; size: 12px; color:red; font-style: italic;\" dojoAttachPoint=\"retryFailedUploadsLink\" href=\"#\">${i18n.retryFailedUploads}</a> \n</div>\n"),postMixInProperties:function(){this.i18n=dojo.i18n.getLocalization("multiplefileuploader","messages");this.inherited(arguments);},postCreate:function(_32d){this._eventHandles=new Array([]);this._registerEvents();},_registerEvents:function(){var _32e=dojo.connect(this.attachAnotherFileLink,"onclick",dojo.hitch(this,function(e){dojo.stopEvent(e);this._onClickJoinAnotherFile(e);}));var _32f=dojo.connect(this.retryFailedUploadsLink,"onclick",dojo.hitch(this,function(e){dojo.stopEvent(e);this._onClickSwitchToOnlineMode(e);}));this._eventHandles.push(_32e);this._eventHandles.push(_32f);},_onClickJoinAnotherFile:function(e){this.uploadUnitContainer.createUploadUnit();},_onClickSwitchToOnlineMode:function(e){this.hideRetryUploadsLink();this.uploadManager.retryAllUploads();},_unregisterEvents:function(){dojo.forEach(this._eventHandles,function(_330){dojo.disconnect(_330);});},hideRetryUploadsLink:function(){dojo.style(this.retryFailedUploadsLink,{display:"none"});},showRetryUploadsLink:function(){dojo.style(this.retryFailedUploadsLink,{display:"inline"});},destroy:function(){this._unregisterEvents();this.inherited("destroy",arguments);}});}if(!dojo._hasResource["multiplefileuploader.widget.UploadUnitContainer"]){dojo._hasResource["multiplefileuploader.widget.UploadUnitContainer"]=true;dojo.provide("multiplefileuploader.widget.UploadUnitContainer");dojo.declare("multiplefileuploader.widget.UploadUnitContainer",null,{constructor:function(_331,_332,_333){dojo.mixin(this,_331);this._uploadUnits=new dojox.collections.ArrayList();this._containerDiv=_332;this._uploadActionsContainer=_333;this.createUploadUnit();this._uploadActions=this._createUploadActions();this._lastUploadUnit=null;},_notifyUploadUnitDeleted:function(unit){this._uploadUnits.remove(unit);unit.destroy();this._makeSureOneUploadUnitIsVisible();this._makeSureDeleteLinkIsHiddenForTheFirstInput();},_notifyUnitFailureRecoverable:function(){this._uploadActions.showRetryUploadsLink();},notifyLastFileInputChanged:function(_334){this._getLastElement(this._uploadUnits).notifyLastFileInputChanged(_334);},_makeSureOneUploadUnitIsVisible:function(){if(this._noFileInputVisible()){this.createUploadUnit();}},_makeSureDeleteLinkIsHiddenForTheFirstInput:function(){if(this._oneFileInputVisible()){this._getFirstUnit().hideDeleteLink();}else{dojo.forEach(this._uploadUnits.toArray(),function(u){u.showDeleteLink();});}},createUploadUnit:function(){var _335={config_status:this.config_status,config_UI:this.config_UI,uploadManager:this.uploadManager,onUploadUnitDeletion:dojo.hitch(this,function(unit){this._notifyUploadUnitDeleted(unit);}),onUnitFailureRecoverable:dojo.hitch(this,function(){this._notifyUnitFailureRecoverable();})};var _336=document.createElement("div");dojo.place(_336,this._containerDiv);var _337=new multiplefileuploader.widget.UploadUnit(_335,_336);this._uploadUnits.add(_337);this._makeSureDeleteLinkIsHiddenForTheFirstInput();},_createUploadActions:function(){return new multiplefileuploader.widget.UploadActions({uploadUnitContainer:this,uploadManager:this.uploadManager},this._uploadActionsContainer);},_noFileInputVisible:function(){return (this._uploadUnits.count==0)?true:false;},_oneFileInputVisible:function(){return (this._uploadUnits.count==1)?true:false;},_getFirstUnit:function(){return this._getFirstElement(this._uploadUnits);},_getFirstElement:function(arr){var itr=arr.getIterator();itr.get();return itr.element;},_getLastElement:function(arr){var itr=arr.getIterator();while(!itr.atEnd()){itr.get();}return itr.element;}});}if(!dojo._hasResource["dojox.xml.parser"]){dojo._hasResource["dojox.xml.parser"]=true;dojo.provide("dojox.xml.parser");dojox.xml.parser.parse=function(str,_338){var _339=dojo.doc;var doc;_338=_338||"text/xml";if(str&&dojo.trim(str)&&"DOMParser" in dojo.global){var _33a=new DOMParser();doc=_33a.parseFromString(str,_338);var de=doc.documentElement;var _33b="http://www.mozilla.org/newlayout/xml/parsererror.xml";if(de.nodeName=="parsererror"&&de.namespaceURI==_33b){var _33c=de.getElementsByTagNameNS(_33b,"sourcetext")[0];if(_33c){_33c=_33c.firstChild.data;}throw new Error("Error parsing text "+de.firstChild.data+" \n"+_33c);}return doc;}else{if("ActiveXObject" in dojo.global){var ms=function(n){return "MSXML"+n+".DOMDocument";};var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];dojo.some(dp,function(p){try{doc=new ActiveXObject(p);}catch(e){return false;}return true;});if(str&&doc){doc.async=false;doc.loadXML(str);var pe=doc.parseError;if(pe.errorCode!==0){throw new Error("Line: "+pe.line+"\n"+"Col: "+pe.linepos+"\n"+"Reason: "+pe.reason+"\n"+"Error Code: "+pe.errorCode+"\n"+"Source: "+pe.srcText);}}if(doc){return doc;}}else{if(_339.implementation&&_339.implementation.createDocument){if(str&&dojo.trim(str)&&_339.createElement){var tmp=_339.createElement("xml");tmp.innerHTML=str;var _33d=_339.implementation.createDocument("foo","",null);dojo.forEach(tmp.childNodes,function(_33e){_33d.importNode(_33e,true);});return _33d;}else{return _339.implementation.createDocument("","",null);}}}}return null;};dojox.xml.parser.textContent=function(node,text){if(arguments.length>1){var _33f=node.ownerDocument||dojo.doc;dojox.xml.parser.replaceChildren(node,_33f.createTextNode(text));return text;}else{if(node.textContent!==undefined){return node.textContent;}var _340="";if(node){dojo.forEach(node.childNodes,function(_341){switch(_341.nodeType){case 1:case 5:_340+=dojox.xml.parser.textContent(_341);break;case 3:case 2:case 4:_340+=_341.nodeValue;}});}return _340;}};dojox.xml.parser.replaceChildren=function(node,_342){var _343=[];if(dojo.isIE){dojo.forEach(node.childNodes,function(_344){_343.push(_344);});}dojox.xml.parser.removeChildren(node);dojo.forEach(_343,dojo.destroy);if(!dojo.isArray(_342)){node.appendChild(_342);}else{dojo.forEach(_342,function(_345){node.appendChild(_345);});}};dojox.xml.parser.removeChildren=function(node){var _346=node.childNodes.length;while(node.hasChildNodes()){node.removeChild(node.firstChild);}return _346;};dojox.xml.parser.innerXML=function(node){if(node.innerXML){return node.innerXML;}else{if(node.xml){return node.xml;}else{if(typeof XMLSerializer!="undefined"){return (new XMLSerializer()).serializeToString(node);}}}return null;};}if(!dojo._hasResource["dojox.data.dom"]){dojo._hasResource["dojox.data.dom"]=true;dojo.provide("dojox.data.dom");dojo.deprecated("dojox.data.dom","Use dojox.xml.parser instead.","2.0");dojox.data.dom.createDocument=function(str,_347){dojo.deprecated("dojox.data.dom.createDocument()","Use dojox.xml.parser.parse() instead.","2.0");try{return dojox.xml.parser.parse(str,_347);}catch(e){return null;}};dojox.data.dom.textContent=function(node,text){dojo.deprecated("dojox.data.dom.textContent()","Use dojox.xml.parser.textContent() instead.","2.0");if(arguments.length>1){return dojox.xml.parser.textContent(node,text);}else{return dojox.xml.parser.textContent(node);}};dojox.data.dom.replaceChildren=function(node,_348){dojo.deprecated("dojox.data.dom.replaceChildren()","Use dojox.xml.parser.replaceChildren() instead.","2.0");dojox.xml.parser.replaceChildren(node,_348);};dojox.data.dom.removeChildren=function(node){dojo.deprecated("dojox.data.dom.removeChildren()","Use dojox.xml.parser.removeChildren() instead.","2.0");return dojox.xml.parser.removeChildren(node);};dojox.data.dom.innerXML=function(node){dojo.deprecated("dojox.data.dom.innerXML()","Use dojox.xml.parser.innerXML() instead.","2.0");return dojox.xml.parser.innerXML(node);};}if(!dojo._hasResource["multiplefileuploader.tests.FakeUploadStrategy"]){dojo._hasResource["multiplefileuploader.tests.FakeUploadStrategy"]=true;dojo.provide("multiplefileuploader.tests.FakeUploadStrategy");dojo.declare("multiplefileuploader.tests.FakeUploadStrategy",null,{constructor:function(_349){this._fakeResponse=_349;this._fakeUploadValuePrefix="uploadedFile_";},upload:function(_34a,_34b){var _34c=null;try{if(this._fakeResponse==null){_34a.onSuccess(this._fakeResponse,this._fakeUploadValuePrefix);return;}var _34c=dojo.fromJson(this._fakeResponse);}catch(e){_34a.onSuccess(this._fakeResponse,this._fakeUploadValuePrefix);return;}var _34d=new multiplefileuploader.widget._UploadedFileInformation(_34c);if(_34d.getErrorCode()=="NETWORK_ERROR"){_34a.onError(this._fakeResponse,this._fakeUploadValuePrefix);}else{_34a.onSuccess(this._fakeResponse,this._fakeUploadValuePrefix);}}});}if(!dojo._hasResource["multiplefileuploader.tests.FakeUploadStatusStrategy"]){dojo._hasResource["multiplefileuploader.tests.FakeUploadStatusStrategy"]=true;dojo.provide("multiplefileuploader.tests.FakeUploadStatusStrategy");dojo.declare("multiplefileuploader.tests.FakeUploadStatusStrategy",null,{constructor:function(_34e){this._fakeResponse=dojo.toJson([{"id":45562}]);},getStatus:function(_34f,_350){},getID:function(_351){_351.onIDSuccess(this._fakeResponse);}});}if(!dojo._hasResource["multiplefileuploader.widget.MultipleFileUploader"]){dojo._hasResource["multiplefileuploader.widget.MultipleFileUploader"]=true;dojo.provide("multiplefileuploader.widget.MultipleFileUploader");dojo.declare("multiplefileuploader.widget.MultipleFileUploader",[dijit._Widget,dijit._Templated],{templateString:dojo.cache("multiplefileuploader.widget","MultipleFileUploader.html","<div>\n\t<div dojoAttachPoint=\"fileUploadContainer\"></div>\n\t<div dojoAttachPoint=\"uploadActionsContainer\"></div>\n</div>\n"),ajaxUploadUrl:"",uploadParameterName:"upload",uploadValuePrefix:"uploadedFile_",uploadTimeout:"50000",progressBarMode:true,uploadStatusURL:"",statusTimeout:"",getStatusInterval:"2000",apc_php_enabled:true,progressBarWidth:"15%",progressBarHeight:"18px",enableThumbs:true,thumbsHeight:80,thumbsWidth:80,showDelay:50,inputWidth:200,inputAdditionalWidth:120,inputWidthUnit:"px",fakeMode:false,fakeResponse:"",postCreate:function(){this._sanityCheck();var _352={onError:dojo.hitch(this,this._onError),onProgress:dojo.hitch(this,function(_353){this._onProgress(_353);}),onFinishedUploads:dojo.hitch(this,function(){this._onFinishedUploads();}),onFinishedUpload:dojo.hitch(this,function(_354){this._onFinishedUpload(_354);}),onAfterUploadStart:dojo.hitch(this,function(_355){this._onAfterUploadStart(_355);})};if(this.fakeMode){var _356={_uploadStrategy:new multiplefileuploader.tests.FakeUploadStrategy(this.fakeResponse),_uploadStatusStrategy:new multiplefileuploader.tests.FakeUploadStatusStrategy()};dojo.mixin(_352,_356);}var _357={fakeMode:this.fakeMode,fakeResponse:this.fakeResponse};var _358={ajaxUploadUrl:this.ajaxUploadUrl,uploadTimeout:this.uploadTimeout,uploadParameterName:this.uploadParameterName,uploadValuePrefix:this.uploadValuePrefix,apc_php_enabled:this.apc_php_enabled};var _359={uploadStatusURL:this.uploadStatusURL,progressBarMode:this.progressBarMode,getStatusInterval:this.getStatusInterval,checkInterval:this.checkInterval};var _35a={enableThumbs:this.enableThumbs,thumbsHeight:this.thumbsHeight,thumbsWidth:this.thumbsWidth,showDelay:this.showDelay,inputWidth:this.inputWidth,inputAdditionalWidth:this.inputAdditionalWidth,inputWidthUnit:this.inputWidthUnit,progressBarWidth:this.progressBarWidth,progressBarHeight:this.progressBarHeight};this._uploadManager=new multiplefileuploader.widget.UploadManager(_352,_358,_359,_35a);var _352={config_status:_359,config_UI:_35a,uploadManager:this._uploadManager};this.uploadUnitContainer=new multiplefileuploader.widget.UploadUnitContainer(_352,this.fileUploadContainer,this.uploadActionsContainer);},_sanityCheck:function(){if(this.progressBarMode){if(this.uploadStatusURL==""){throw "When ProgressBarMode enabled, you have to set an uploadStatusURL parameter when instanciate MultipleFileUploader";}}if(this.ajaxUploadUrl==""){throw "you have to provide an ajaxUploadUrl parameter";}},_onError:function(){this.onError();},_onProgress:function(_35b){this.onProgress(_35b);},_onFinishedUpload:function(_35c){this.onFinishedUpload(_35c);},_onFinishedUploads:function(){this.onFinishedUploads();},_onAfterUploadStart:function(_35d){this.onAfterUploadStart(_35d);},onError:function(){},onProgress:function(_35e){},onFinishedUploads:function(){},onFinishedUpload:function(_35f){},onAfterUploadStart:function(_360){},fireProgress:function(){this._uploadManager.fireProgress();},notifyLastFileInputChanged:function(_361){this.uploadUnitContainer.notifyLastFileInputChanged(_361);}});}dojo.i18n._preloadLocalizations("layers.nls.mfu",["ROOT","ar","ca","cs","da","de","de-de","el","en","en-gb","en-us","es","es-es","fi","fi-fi","fr","fr-fr","he","he-il","hu","it","it-it","ja","ja-jp","ko","ko-kr","nb","nl","nl-nl","pl","pt","pt-br","pt-pt","ru","sk","sl","sv","th","tr","xx","zh","zh-cn","zh-tw"]);
